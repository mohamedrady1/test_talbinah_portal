<div class="support-groups">
  @if (!isLoading()) {
  @if(seminarItem() ){
  <div class="support-groups__content">
    <div class="support-groups__content-data">
      <div class="support-groups__header">
        <div>
          <p class="title">
            {{seminarItem()?.data?.title}}
          </p>
          @if(!seminarItem()?.data?.is_purchased){
          <div class="cost">
            <div class="cost__prices">
              @if((seminarItem()?.data?.discount ?? 0) > 0) {
              <p class="cost__original-price">
                {{seminarItem()?.data?.price}}
              </p>
              }
              <p class="cost__final-price">
                {{(seminarItem()?.data?.price ?? 0) - (seminarItem()?.data?.discount ?? 0)}}
              </p>
            </div>
            <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M10.8237 13.4072L14.9325 12.5364C14.885 13.0156 14.7604 13.4779 14.5588 13.9234L10.4595 14.7942C10.5018 14.3086 10.6232 13.8463 10.8237 13.4072ZM14.5588 11.3093L10.4595 12.1801V9.56761L9.18021 9.84152V11.2919C9.18021 11.4217 9.14432 11.5399 9.07254 11.6465L8.40596 12.6329C8.22863 12.8884 7.99113 13.0457 7.69346 13.1048L4.06763 13.879C4.11513 13.3987 4.23968 12.9364 4.44129 12.492L7.89929 11.7542V10.1075L4.67246 10.7931C4.71996 10.3128 4.84399 9.85366 5.04454 9.4156L7.89929 8.80127V3.7251C8.26029 3.28599 8.68727 2.9271 9.18021 2.64844V8.53527L10.4595 8.25977V4.36477C10.8216 3.92672 11.2454 3.56783 11.731 3.2881V7.99219L14.9325 7.30819C14.885 7.78847 14.7604 8.2508 14.5588 8.69519L11.731 9.30002V10.5984L14.9325 9.92227C14.885 10.4078 14.7604 10.8702 14.5588 11.3093Z"
                fill="#0E39B6" />
            </svg>

          </div>}
          @else{
          <div class="subscriber">
            <p>
              {{'general.subscriber' | translate}}
            </p>
          </div>
          }
        </div>
        <p>
          {{seminarItem()?.data?.description}}
        </p>
      </div>

      <div class="session-details" style="display: none;">
        <div class="session-details--title">
          محاور الجلسه:
        </div>
        <div class="session-details--topics">
          التعريف بنوبات الهلع
          <br>
          الأسباب والمحفزات
          <br>
          معتقدات خاطئة عن نوبات الهلع
          <br>
          كيفية التعامل مع النوبة أثناء حدوثها استراتيجيات الوقاية وتكرار النوبات
        </div>
      </div>

    </div>
    <div class="support-groups__details">
      <p>
        {{'group_details_label2' | translateApi}}
      </p>
      <div class="support-groups__details--cards">
        <div class="support-groups__details--card">
          <div class="support-groups__details--icon">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M5.33325 14.8798C5.14659 14.8798 4.95324 14.8331 4.77991 14.7398C4.39991 14.5398 4.16659 14.1398 4.16659 13.7131V12.7665C2.15325 12.5598 0.833252 11.0798 0.833252 8.95976V4.9598C0.833252 2.66646 2.37325 1.12646 4.66659 1.12646H11.3333C13.6266 1.12646 15.1666 2.66646 15.1666 4.9598V8.95976C15.1666 11.2531 13.6266 12.7931 11.3333 12.7931H8.81991L5.9799 14.6865C5.78657 14.8131 5.55992 14.8798 5.33325 14.8798ZM4.66659 2.11979C2.94659 2.11979 1.83325 3.23313 1.83325 4.95312V8.95317C1.83325 10.6732 2.94659 11.7865 4.66659 11.7865C4.93992 11.7865 5.16659 12.0132 5.16659 12.2865V13.7065C5.16659 13.7932 5.21992 13.8331 5.25326 13.8531C5.28659 13.8731 5.35326 13.8931 5.4266 13.8465L8.39327 11.8732C8.47327 11.8198 8.57326 11.7865 8.67326 11.7865H11.3399C13.0599 11.7865 14.1733 10.6732 14.1733 8.95317V4.95312C14.1733 3.23313 13.0599 2.11979 11.3399 2.11979H4.66659Z"
                fill="#47586E" />
              <path
                d="M7.99996 8.07324C7.72663 8.07324 7.49996 7.84658 7.49996 7.57324V7.43327C7.49996 6.65993 8.06661 6.27993 8.27995 6.13326C8.52661 5.96659 8.60661 5.85326 8.60661 5.67993C8.60661 5.3466 8.33329 5.07324 7.99996 5.07324C7.66663 5.07324 7.39331 5.3466 7.39331 5.67993C7.39331 5.95326 7.16664 6.17993 6.89331 6.17993C6.61998 6.17993 6.39331 5.95326 6.39331 5.67993C6.39331 4.79326 7.11329 4.07324 7.99996 4.07324C8.88663 4.07324 9.60661 4.79326 9.60661 5.67993C9.60661 6.43993 9.04663 6.81992 8.83997 6.95992C8.57997 7.13325 8.49996 7.2466 8.49996 7.43327V7.57324C8.49996 7.85324 8.27329 8.07324 7.99996 8.07324Z"
                fill="#47586E" />
              <path
                d="M8 9.7334C7.72 9.7334 7.5 9.50673 7.5 9.2334C7.5 8.96007 7.72667 8.7334 8 8.7334C8.27333 8.7334 8.5 8.96007 8.5 9.2334C8.5 9.50673 8.28 9.7334 8 9.7334Z"
                fill="#47586E" />
            </svg>
          </div>
          <div>
            <p>
              {{'support_groups_presenter' | translateApi}}
            </p>
            <p>
              {{ seminarItem()?.data?.doctor?.full_name}}
            </p>
          </div>
        </div>
        <div class="support-groups__details--card">
          <div class="support-groups__details--icon">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M7.99992 15.1668C4.04659 15.1668 0.833252 11.9535 0.833252 8.00016C0.833252 4.04683 4.04659 0.833496 7.99992 0.833496C11.9533 0.833496 15.1666 4.04683 15.1666 8.00016C15.1666 11.9535 11.9533 15.1668 7.99992 15.1668ZM7.99992 1.8335C4.59992 1.8335 1.83325 4.60016 1.83325 8.00016C1.83325 11.4002 4.59992 14.1668 7.99992 14.1668C11.3999 14.1668 14.1666 11.4002 14.1666 8.00016C14.1666 4.60016 11.3999 1.8335 7.99992 1.8335Z"
                fill="#47586E" />
              <path
                d="M10.4733 10.6202C10.3867 10.6202 10.3 10.6002 10.22 10.5468L8.15334 9.3135C7.64001 9.00684 7.26001 8.3335 7.26001 7.74017V5.00684C7.26001 4.7335 7.48668 4.50684 7.76001 4.50684C8.03334 4.50684 8.26001 4.7335 8.26001 5.00684V7.74017C8.26001 7.98017 8.46001 8.3335 8.66668 8.4535L10.7333 9.68684C10.9733 9.82684 11.0467 10.1335 10.9067 10.3735C10.8067 10.5335 10.64 10.6202 10.4733 10.6202Z"
                fill="#47586E" />
            </svg>
          </div>
          <div>
            <p>
              {{'available_seats' | translateApi}}
            </p>
            <p>
              {{seminarItem()?.data?.users_remaining_count}}
              {{'seat' | translate}}
            </p>
          </div>
        </div>
        <div class="support-groups__details--card">
          <div class="support-groups__details--icon">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M7.99992 15.1668C4.04659 15.1668 0.833252 11.9535 0.833252 8.00016C0.833252 4.04683 4.04659 0.833496 7.99992 0.833496C11.9533 0.833496 15.1666 4.04683 15.1666 8.00016C15.1666 11.9535 11.9533 15.1668 7.99992 15.1668ZM7.99992 1.8335C4.59992 1.8335 1.83325 4.60016 1.83325 8.00016C1.83325 11.4002 4.59992 14.1668 7.99992 14.1668C11.3999 14.1668 14.1666 11.4002 14.1666 8.00016C14.1666 4.60016 11.3999 1.8335 7.99992 1.8335Z"
                fill="#47586E" />
              <path
                d="M10.4733 10.6202C10.3867 10.6202 10.3 10.6002 10.22 10.5468L8.15334 9.3135C7.64001 9.00684 7.26001 8.3335 7.26001 7.74017V5.00684C7.26001 4.7335 7.48668 4.50684 7.76001 4.50684C8.03334 4.50684 8.26001 4.7335 8.26001 5.00684V7.74017C8.26001 7.98017 8.46001 8.3335 8.66668 8.4535L10.7333 9.68684C10.9733 9.82684 11.0467 10.1335 10.9067 10.3735C10.8067 10.5335 10.64 10.6202 10.4733 10.6202Z"
                fill="#47586E" />
            </svg>
          </div>
          <div>
            <p>
              {{'support_groups_date' | translateApi}}
            </p>
            <p>
              {{ formattedSeminarDate }} - {{ formattedSeminarTime }}
            </p>
          </div>
        </div>
        <div class="support-groups__details--card">
          <div class="support-groups__details--icon">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M7.99992 15.1668C4.04659 15.1668 0.833252 11.9535 0.833252 8.00016C0.833252 4.04683 4.04659 0.833496 7.99992 0.833496C11.9533 0.833496 15.1666 4.04683 15.1666 8.00016C15.1666 11.9535 11.9533 15.1668 7.99992 15.1668ZM7.99992 1.8335C4.59992 1.8335 1.83325 4.60016 1.83325 8.00016C1.83325 11.4002 4.59992 14.1668 7.99992 14.1668C11.3999 14.1668 14.1666 11.4002 14.1666 8.00016C14.1666 4.60016 11.3999 1.8335 7.99992 1.8335Z"
                fill="#47586E" />
              <path
                d="M10.4733 10.6202C10.3867 10.6202 10.3 10.6002 10.22 10.5468L8.15334 9.3135C7.64001 9.00684 7.26001 8.3335 7.26001 7.74017V5.00684C7.26001 4.7335 7.48668 4.50684 7.76001 4.50684C8.03334 4.50684 8.26001 4.7335 8.26001 5.00684V7.74017C8.26001 7.98017 8.46001 8.3335 8.66668 8.4535L10.7333 9.68684C10.9733 9.82684 11.0467 10.1335 10.9067 10.3735C10.8067 10.5335 10.64 10.6202 10.4733 10.6202Z"
                fill="#47586E" />
            </svg>
          </div>
          <div>
            <p>
              {{'support_groups_duration' | translateApi}}
            </p>
            <p>
              {{seminarItem()?.data?.duration}} {{'minute' | translateApi}}
            </p>
          </div>
        </div>
      </div>

    </div>

    <div class="support-groups__actions">
      @if (seminarItem()?.data?.is_purchased && seminarItem()?.data?.link) {
      <button (click)="openLink()" class="btn btn--outline">
        {{'support_groups_link' | translateApi}}
      </button>
      } @else if(!seminarItem()?.data?.is_purchased) {
      <button (click)="openSubscriptionModal()" class="btn btn--solid">
        {{'support_groups_subscription' | translateApi}}
      </button>
      }
    </div>
  </div>
  }@else if(errorMessage()&&!status || !seminarItem()){
  <app-error-state-card [config]="ErrorState"></app-error-state-card>
  }
  }
  @else{
  <div class="loading-state w-100 support-groups__shimmer-content">
    <div class="support-groups__header-shimmer">
      <div class="support-groups__title-shimmer"></div>
      <div class="support-groups__price-shimmer"></div>
      <div class="support-groups__text-line-shimmer long"></div>
      <div class="support-groups__text-line-shimmer medium"></div>
      <div class="support-groups__text-line-shimmer short"></div>
    </div>

    <div class="support-groups__details-shimmer">
      <div class="support-groups__details-title-shimmer"></div>
      <div class="support-groups__details-cards-shimmer">
        <div class="support-groups__details-card-shimmer">
          <div class="support-groups__icon-shimmer"></div>
          <div style="flex:1">
            <div class="support-groups__text-line-shimmer short"></div>
            <div class="support-groups__text-line-shimmer medium"></div>
          </div>
        </div>
        <div class="support-groups__details-card-shimmer">
          <div class="support-groups__icon-shimmer"></div>
          <div style="flex:1">
            <div class="support-groups__text-line-shimmer short"></div>
            <div class="support-groups__text-line-shimmer medium"></div>
          </div>
        </div>
        <div class="support-groups__details-card-shimmer">
          <div class="support-groups__icon-shimmer"></div>
          <div style="flex:1">
            <div class="support-groups__text-line-shimmer short"></div>
            <div class="support-groups__text-line-shimmer medium"></div>
          </div>
        </div>
        <div class="support-groups__details-card-shimmer">
          <div class="support-groups__icon-shimmer"></div>
          <div style="flex:1">
            <div class="support-groups__text-line-shimmer short"></div>
            <div class="support-groups__text-line-shimmer medium"></div>
          </div>
        </div>
      </div>
    </div>

  </div>
  }
</div>