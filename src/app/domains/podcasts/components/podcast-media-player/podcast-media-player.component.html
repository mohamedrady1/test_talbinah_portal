<div class="podcast-media-player" [ngClass]="{'podcast-media-player--phone': isPhone}">
  @if (item) {
  <div class="podcast-media-player__image-container">
    <img class="podcast-media-player__image-container--img" [appLazyLoadImage]="item?.thumbnail_image || ''"
      [alt]="item?.title || ''" ngOptimizedImage width="300" height="300" priority
      onerror="this.src='images/emptyStates/podcast.svg'">
    <div class="podcast-media-player__overlay">
      <button class="podcast-media-player__fullscreen-btn" aria-label="Minimize player" (click)="minimize()">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M10 15.1668H9.33337C9.06004 15.1668 8.83337 14.9402 8.83337 14.6668C8.83337 14.3935 9.06004 14.1668 9.33337 14.1668H10C13.0734 14.1668 14.1667 13.0735 14.1667 10.0002V6.00016C14.1667 2.92683 13.0734 1.8335 10 1.8335H6.00004C2.92671 1.8335 1.83337 2.92683 1.83337 6.00016V6.6535C1.83337 6.92683 1.60671 7.1535 1.33337 7.1535C1.06004 7.1535 0.833374 6.92683 0.833374 6.6535V6.00016C0.833374 2.38016 2.38004 0.833496 6.00004 0.833496H10C13.62 0.833496 15.1667 2.38016 15.1667 6.00016V10.0002C15.1667 13.6202 13.62 15.1668 10 15.1668Z"
            fill="white" />
          <path
            d="M12.0075 3.48065C12.1342 3.48065 12.2609 3.52732 12.3609 3.62732C12.5542 3.82065 12.5542 4.14065 12.3609 4.33398L9.86753 6.83398L11.3409 6.83398C11.6142 6.83398 11.8409 7.06065 11.8409 7.33398C11.8409 7.60732 11.6209 7.83398 11.3409 7.83398L8.66753 7.83398C8.46753 7.83398 8.28086 7.71398 8.20753 7.52732C8.12753 7.34065 8.17419 7.12732 8.31419 6.98065L11.6542 3.62732C11.7542 3.52732 11.8809 3.48065 12.0075 3.48065Z"
            fill="white" />
          <path
            d="M8.66797 4.15398C8.9413 4.15398 9.16797 4.38065 9.16797 4.65398L9.16797 7.33398C9.16797 7.60732 8.9413 7.83398 8.66797 7.83398C8.39464 7.83398 8.16797 7.60732 8.16797 7.33398L8.16797 4.66065C8.16797 4.38065 8.39464 4.15398 8.66797 4.15398Z"
            fill="white" />
          <path
            d="M5.23337 15.1665H3.43337C1.66004 15.1665 0.833374 14.3398 0.833374 12.5665V10.7665C0.833374 8.99317 1.66004 8.1665 3.43337 8.1665H5.23337C7.00671 8.1665 7.83337 8.99317 7.83337 10.7665V12.5665C7.83337 14.3398 7.00671 15.1665 5.23337 15.1665ZM3.43337 9.1665C2.20671 9.1665 1.83337 9.53984 1.83337 10.7665V12.5665C1.83337 13.7932 2.20671 14.1665 3.43337 14.1665H5.23337C6.46004 14.1665 6.83337 13.7932 6.83337 12.5665V10.7665C6.83337 9.53984 6.46004 9.1665 5.23337 9.1665H3.43337Z"
            fill="white" />
        </svg>
      </button>
      <button class="podcast-media-player__fullscreen-btn web" aria-label="Maximize player" (click)="maximize()">
        @if(!isFullscreen()){
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M1.33337 6.50016C1.06004 6.50016 0.833374 6.2735 0.833374 6.00016V4.3335C0.833374 2.40683 2.40671 0.833496 4.33337 0.833496H6.00004C6.27337 0.833496 6.50004 1.06016 6.50004 1.3335C6.50004 1.60683 6.27337 1.8335 6.00004 1.8335H4.33337C2.95337 1.8335 1.83337 2.9535 1.83337 4.3335V6.00016C1.83337 6.2735 1.60671 6.50016 1.33337 6.50016Z"
            fill="white" />
          <path
            d="M14.6667 6.50016C14.3933 6.50016 14.1667 6.2735 14.1667 6.00016V4.3335C14.1667 2.9535 13.0467 1.8335 11.6667 1.8335H10C9.72667 1.8335 9.5 1.60683 9.5 1.3335C9.5 1.06016 9.72667 0.833496 10 0.833496H11.6667C13.5933 0.833496 15.1667 2.40683 15.1667 4.3335V6.00016C15.1667 6.2735 14.94 6.50016 14.6667 6.50016Z"
            fill="white" />
          <path
            d="M11.6666 15.1665H10.6666C10.3933 15.1665 10.1666 14.9398 10.1666 14.6665C10.1666 14.3932 10.3933 14.1665 10.6666 14.1665H11.6666C13.0466 14.1665 14.1666 13.0465 14.1666 11.6665V10.6665C14.1666 10.3932 14.3933 10.1665 14.6666 10.1665C14.94 10.1665 15.1666 10.3932 15.1666 10.6665V11.6665C15.1666 13.5932 13.5933 15.1665 11.6666 15.1665Z"
            fill="white" />
          <path
            d="M6.00004 15.1667H4.33337C2.40671 15.1667 0.833374 13.5933 0.833374 11.6667V10C0.833374 9.72667 1.06004 9.5 1.33337 9.5C1.60671 9.5 1.83337 9.72667 1.83337 10V11.6667C1.83337 13.0467 2.95337 14.1667 4.33337 14.1667H6.00004C6.27337 14.1667 6.50004 14.3933 6.50004 14.6667C6.50004 14.94 6.27337 15.1667 6.00004 15.1667Z"
            fill="white" />
        </svg>
        }
        @else{
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
          <path
            d="M6 0.833333C6.27333 0.833333 6.5 1.06 6.5 1.33333L6.5 3C6.5 4.92667 4.92667 6.5 3 6.5L1.33333 6.5C1.06 6.5 0.833333 6.27333 0.833333 6C0.833333 5.72667 1.06 5.5 1.33333 5.5L3 5.5C4.38 5.5 5.5 4.38 5.5 3L5.5 1.33333C5.5 1.06 5.72667 0.833333 6 0.833333Z"
            fill="white" />
          <path
            d="M10.0001 0.833334C10.2734 0.833334 10.5001 1.06 10.5001 1.33333L10.5001 3C10.5001 4.38 11.6201 5.5 13.0001 5.5L14.6667 5.5C14.9401 5.5 15.1667 5.72667 15.1667 6C15.1667 6.27333 14.9401 6.5 14.6667 6.5L13.0001 6.5C11.0734 6.5 9.50008 4.92667 9.50008 3L9.50008 1.33333C9.50008 1.06 9.72675 0.833334 10.0001 0.833334Z"
            fill="white" />
          <path
            d="M13.6667 10.1665H14.6667C14.9401 10.1665 15.1667 10.3932 15.1667 10.6665C15.1667 10.9398 14.9401 11.1665 14.6667 11.1665H13.6667C12.2867 11.1665 11.1667 12.2865 11.1667 13.6665V14.6665C11.1667 14.9398 10.9401 15.1665 10.6667 15.1665C10.3934 15.1665 10.1667 14.9398 10.1667 14.6665V13.6665C10.1667 11.7398 11.7401 10.1665 13.6667 10.1665Z"
            fill="white" />
          <path
            d="M1.33333 9.49984H3C4.92667 9.49984 6.5 11.0732 6.5 12.9998V14.6665C6.5 14.9398 6.27333 15.1665 6 15.1665C5.72667 15.1665 5.5 14.9398 5.5 14.6665V12.9998C5.5 11.6198 4.38 10.4998 3 10.4998H1.33333C1.06 10.4998 0.833333 10.2732 0.833333 9.99984C0.833333 9.7265 1.06 9.49984 1.33333 9.49984Z"
            fill="white" />
        </svg>
        }
      </button>
    </div>
  </div>

  <div class="podcast-media-player__content">
    <div class="podcast-media-player__header">
      <div class="podcast-media-player__info">
        <p class="podcast-media-player__title">
          {{item?.title}}
        </p>
        <p class="podcast-media-player__speaker">
          {{item?.doctor_name}}
        </p>
      </div>

      <button class="podcast-media-player__like-btn" (click)="handleFavouriteToggle($event)"
        [attr.aria-label]="item.is_bookmarked ? 'Remove from favourites' : 'Add to favourites'">
        @if(isToggleLoading()){
        <div class="shimmer-circle"></div>
        }
        @else if (item.is_bookmarked) {
        <!-- Red Heart SVG -->
        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
          <path
            d="M9.59 1.80811C8.53417 1.80811 7.58917 2.32144 7 3.10894C6.41084 2.32144 5.46584 1.80811 4.41 1.80811C2.61917 1.80811 1.16667 3.26644 1.16667 5.06894C1.16667 5.76311 1.27751 6.40477 1.47001 6.99977C2.39167 9.91644 5.2325 11.6606 6.63834 12.1389C6.83667 12.2089 7.16334 12.2089 7.36167 12.1389C8.7675 11.6606 11.6083 9.91644 12.53 6.99977C12.7225 6.40477 12.8333 5.76311 12.8333 5.06894C12.8333 3.26644 11.3808 1.80811 9.59 1.80811Z"
            fill="#FF0027" aria-hidden="true" focusable="false" />
        </svg>
        } @else {
        <!-- Gray Heart SVG -->
        <svg width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M7.50002 12.6292C7.31919 12.6292 7.14419 12.6059 6.99835 12.5534C4.77002 11.7892 1.22919 9.07668 1.22919 5.06918C1.22919 3.02752 2.88002 1.37085 4.91002 1.37085C5.89585 1.37085 6.81752 1.75585 7.50002 2.44418C8.18252 1.75585 9.10419 1.37085 10.09 1.37085C12.12 1.37085 13.7709 3.03335 13.7709 5.06918C13.7709 9.08252 10.23 11.7892 8.00169 12.5534C7.85585 12.6059 7.68085 12.6292 7.50002 12.6292ZM4.91002 2.24585C3.36419 2.24585 2.10419 3.51168 2.10419 5.06918C2.10419 9.05335 5.93669 11.27 7.28419 11.7309C7.38919 11.7659 7.61669 11.7659 7.72169 11.7309C9.06335 11.27 12.9017 9.05918 12.9017 5.06918C12.9017 3.51168 11.6417 2.24585 10.0959 2.24585C9.20919 2.24585 8.38669 2.66002 7.85585 3.37752C7.69252 3.59918 7.31919 3.59918 7.15585 3.37752C6.61335 2.65418 5.79669 2.24585 4.91002 2.24585Z"
            fill="#666666" aria-hidden="true" focusable="false" />
        </svg>
        }
      </button>
    </div>
    @if(!isPhone){
    @if (item?.description) {
    <div class="episode__about">
      <h4 class="episode__about-title">{{'podcast.aboutPodcast'|translate}}</h4>
      <p class="episode__description">
        {{item?.description}}
      </p>
    </div>
    }
    }
    <div class="episode__duration">
      <p class="episode__duration__date">
        {{item?.created_at | date: 'EEEE - d MMMM':'':currentLanguage }}
      </p>
      <p class="episode__duration__duration">
        {{item?.duration}}
        {{ translate('minute') }}
      </p>
    </div>

    <div class="podcast-media-player__progress">
      <div #progressBar class="podcast-media-player__progress-bar" (click)="seek($event)" role="progressbar"
        [attr.aria-valuenow]="progress()" aria-valuemin="0" aria-valuemax="100" aria-label="Playback progress">
        <div class="podcast-media-player__progress-fill" [style.width.%]="progress()"></div>
      </div>
    </div>

    <div class="podcast-media-player__progress__time">
      <span class="podcast-media-player__time podcast-media-player__progress__time--start">
        -{{ formatTime(duration() - currentTimeSignal()) }}
      </span>
      <div>
        <svg xmlns="http://www.w3.org/2000/svg" width="34" height="13" viewBox="0 0 34 13" fill="none">
          <path
            d="M33.238 8.75486C33.3485 8.82155 33.434 8.91202 33.496 9.02624C33.5573 9.14047 33.5868 9.2662 33.5845 9.40419C33.5823 9.54218 33.5467 9.66713 33.4794 9.77983C33.412 9.89329 33.3212 9.98145 33.2085 10.0451C33.095 10.1087 32.9701 10.1394 32.8347 10.1363C32.6993 10.1332 32.5759 10.098 32.4662 10.0297C32.3557 9.96152 32.2695 9.87029 32.2074 9.75529C32.1454 9.6403 32.1159 9.51458 32.1182 9.37889C32.1204 9.2432 32.1552 9.11824 32.2218 9.00631C32.2884 8.89362 32.3784 8.80622 32.4919 8.74183C32.6054 8.6782 32.731 8.64753 32.868 8.6506C33.0049 8.65367 33.129 8.68816 33.2387 8.75486H33.238ZM33.3742 9.61884C33.4007 9.55061 33.4143 9.47778 33.4158 9.40035C33.4181 9.29073 33.3961 9.19183 33.35 9.10291C33.3038 9.01398 33.2387 8.94422 33.1532 8.89132C33.0677 8.83842 32.9717 8.81159 32.8642 8.80929C32.756 8.80699 32.6584 8.83076 32.5706 8.88059C32.4829 8.93042 32.414 8.99864 32.3641 9.08681C32.3141 9.17497 32.2876 9.2731 32.2854 9.38119C32.2831 9.48928 32.3058 9.58817 32.352 9.67863C32.3989 9.76833 32.4647 9.84039 32.5494 9.89329C32.6342 9.94619 32.7303 9.97378 32.837 9.97608C32.9202 9.97761 32.9974 9.96382 33.0693 9.93315C33.1411 9.90325 33.2032 9.85956 33.2561 9.80359L33.0049 9.79823L32.8703 9.57668L32.7727 9.57437L32.7681 9.79363L32.5124 9.78826L32.5283 8.98408L32.8899 8.99098C33.0004 8.99328 33.0874 9.02164 33.1502 9.0753C33.213 9.12897 33.2433 9.20103 33.2418 9.29072C33.2395 9.40572 33.1926 9.48698 33.0995 9.53451L33.263 9.79899C33.3106 9.74686 33.3485 9.6863 33.3742 9.61807V9.61884ZM32.865 9.39192C32.9028 9.39192 32.9323 9.38349 32.9542 9.36509C32.9762 9.34669 32.9875 9.32062 32.9875 9.28689C32.9875 9.25316 32.9785 9.2271 32.958 9.20717C32.9376 9.188 32.9081 9.17803 32.8695 9.17727L32.7802 9.17573L32.7757 9.39039L32.865 9.39192Z"
            fill="white" />
          <path
            d="M27.1247 5.05038C26.9635 4.94612 26.7486 4.99365 26.6457 5.15694L26.2999 5.70431C26.2742 5.66368 26.2394 5.62688 26.1963 5.59928L25.5743 5.19604C25.4132 5.09178 25.1983 5.13931 25.0954 5.3026L24.7239 5.89137C24.621 6.05466 24.6679 6.27238 24.829 6.37664L25.451 6.77987C25.6122 6.88413 25.827 6.83661 25.9299 6.67332L26.2757 6.12595C26.3022 6.16658 26.3363 6.20338 26.3794 6.23098L27.0013 6.63422C27.1625 6.73848 27.3774 6.69095 27.4803 6.52766L27.8518 5.9389C27.9547 5.77561 27.9078 5.55789 27.7466 5.45363L27.1247 5.05038Z"
            fill="white" />
          <path
            d="M11.6542 10.7757L10.9747 10.4836C10.7984 10.4077 10.5949 10.4913 10.52 10.6699L10.2695 11.2678C10.237 11.2318 10.1977 11.2019 10.15 11.182L9.47052 10.8899C9.29422 10.814 9.09069 10.8976 9.01578 11.0762L8.74641 11.7194C8.67151 11.898 8.75398 12.1042 8.93028 12.1801L9.60974 12.4722C9.78604 12.5481 9.98958 12.4645 10.0645 12.2859L10.3149 11.688C10.3475 11.724 10.3868 11.7539 10.4345 11.7738L11.1139 12.0659C11.2902 12.1418 11.4938 12.0582 11.5687 11.8796L11.838 11.2364C11.913 11.0578 11.8305 10.8516 11.6542 10.7757Z"
            fill="white" />
          <path
            d="M1.43069 5.03104L1.68114 4.43307C1.71368 4.4691 1.75302 4.499 1.80069 4.51893L2.48015 4.81101C2.65645 4.88691 2.85999 4.80335 2.93489 4.62472L3.20426 3.98153C3.27916 3.80291 3.19669 3.59669 3.02039 3.5208L2.34093 3.22871C2.16463 3.15282 1.9611 3.23638 1.88619 3.415L1.63574 4.01296C1.60321 3.97693 1.56386 3.94704 1.51619 3.9271L0.836729 3.63502C0.660432 3.55913 0.456897 3.64269 0.38199 3.82131L0.112626 4.4645C0.0377185 4.64313 0.120192 4.84935 0.296489 4.92524L0.975953 5.21732C1.15225 5.29322 1.35578 5.20966 1.43069 5.03104Z"
            fill="white" />
          <path
            d="M5.34257 5.1853L5.61209 4.54167C5.68686 4.36312 5.89023 4.27983 6.06645 4.35558L6.74628 4.64781C6.92251 4.72357 7.00471 4.92962 6.92995 5.10817L6.66073 5.75109C6.58596 5.92964 6.38259 6.01293 6.20636 5.93718L5.52654 5.64495C5.35031 5.56919 5.2681 5.36314 5.34287 5.18459L5.34257 5.1853Z"
            fill="white" />
          <path
            d="M14.378 11.5943L14.6475 10.9506C14.7223 10.7721 14.9257 10.6888 15.1019 10.7645L15.7817 11.0568C15.958 11.1325 16.0402 11.3386 15.9654 11.5171L15.6959 12.1608C15.6211 12.3393 15.4177 12.4226 15.2415 12.3468L14.5617 12.0546C14.3855 11.9789 14.3033 11.7728 14.378 11.5943Z"
            fill="white" />
          <path
            d="M33.5533 5.71147C31.4877 6.92963 29.2268 7.84344 26.8631 8.20375C25.5549 8.40307 24.2179 8.42837 22.9059 8.25204C22.2453 8.16312 21.5908 8.02283 20.953 7.82811C20.6337 7.73075 20.3272 7.59429 20.0094 7.49463C19.8982 7.45936 19.8513 7.44786 19.821 7.48236C19.8536 7.35204 19.8838 7.22171 19.9096 7.09062C20.1063 6.06795 20.1033 5.01845 20.1002 3.97661C20.0965 2.81749 20.0927 1.65913 20.0889 0.5C19.5555 0.874876 19.0387 1.39004 18.9214 2.0547C18.7935 2.77609 18.8949 3.51358 18.9297 4.2388C18.9759 5.19247 18.9078 6.15841 18.643 7.07452C18.5264 7.47699 18.3305 7.91167 17.9408 8.05196C17.6033 8.17308 17.2068 8.02359 16.8762 7.88024C16.9677 7.72078 17.0358 7.58739 17.0797 7.49769C17.1183 7.41797 17.1372 7.33057 17.1357 7.24241L17.1039 5.04835C15.5528 6.11088 15.9145 7.49846 15.9145 7.49846C15.0709 8.23212 13.3389 8.22752 13.0574 8.22138C13.2587 7.91627 13.3964 7.65178 13.4675 7.50459C13.5061 7.42486 13.525 7.33747 13.5235 7.24931L13.4917 5.05524C11.9406 6.11778 12.3023 7.50536 12.3023 7.50536C11.3822 8.30571 9.43842 8.31491 9.43842 8.31491C9.43842 8.31491 8.38669 8.4759 7.5786 7.48466C7.5786 7.48466 6.69031 6.39913 5.80882 7.19181C5.80882 7.19181 5.26555 7.74914 5.1392 7.82274C5.01359 7.89634 4.40374 8.43373 4.26452 7.39956L4.17826 6.03652C4.17826 6.03652 4.16086 4.59987 3.4935 4.54238C3.4935 4.54238 3.11745 5.79427 2.79966 6.33857C2.48187 6.8821 2.45539 6.93653 2.28969 7.06379C2.12398 7.19104 1.34843 7.35893 1.19634 6.74794L0.180176 8.65989C0.180176 8.65989 0.292158 10.2008 1.62233 9.77915C2.95251 9.35751 2.94721 8.30801 2.9631 7.78978C2.9631 7.78978 3.05011 7.79054 3.1114 8.71278C3.17344 9.63502 3.31115 10.1073 3.73714 10.2069C4.16313 10.3066 4.61333 9.84048 5.06429 9.10683C5.51524 8.37241 6.27491 8.9995 6.51325 9.18732C6.74706 9.37131 7.92968 10.8593 10.7058 10.0444C11.5948 9.86041 12.2796 9.24021 12.7518 8.64455L12.1419 9.61739C14.1008 10.7175 15.5059 9.69329 16.317 8.69515C16.2005 8.87224 16.0825 9.04933 15.9599 9.22488C15.9289 9.26935 15.8971 9.31611 15.8948 9.37054C15.8926 9.42114 15.9168 9.4679 15.9425 9.51083C16.2111 9.95164 16.7604 10.1533 17.2704 10.1272C17.9877 10.0904 18.6482 9.66262 19.0894 9.08766C19.3474 8.75111 19.5358 8.3678 19.6765 7.96533C19.6591 8.03126 19.6417 8.09796 19.6213 8.16312C19.498 8.57403 19.3459 8.9765 19.1658 9.36594C20.8955 10.1027 22.8257 10.2767 24.6908 10.0682C26.5559 9.85888 28.3635 9.28008 30.0992 8.55792C30.8589 8.24208 31.6125 7.8948 32.2867 7.4195C32.9609 6.94419 33.5563 6.3309 33.915 5.58268C33.7848 5.57655 33.6638 5.64631 33.551 5.71224L33.5533 5.71147Z"
            fill="white" />
        </svg>
      </div>
      <span
        class="podcast-media-player__time podcast-media-player__progress__time--end">{{formatTime(currentTimeSignal())}}</span>
    </div>

    <div class="podcast-media-player__controls">
      <button class="podcast-media-player__controls-btn" aria-label="Skip forward 10 seconds" (click)="skipForward()">
        <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M6.36005 11.6132C6.08671 11.6132 5.86005 11.3865 5.86005 11.1132V8.85324L5.73338 8.99321C5.54671 9.19988 5.23338 9.21321 5.02671 9.03321C4.82005 8.84654 4.80671 8.53321 4.98671 8.32655L5.98671 7.21322C6.12671 7.05989 6.3467 7.00655 6.54004 7.07988C6.73337 7.15322 6.86005 7.33989 6.86005 7.54656V11.1132C6.86005 11.3932 6.64005 11.6132 6.36005 11.6132Z"
            fill="white" />
          <path
            d="M6.67996 3.98012C6.56663 3.98012 6.45996 3.9468 6.36663 3.8668C6.15329 3.69346 6.11996 3.38014 6.28663 3.1668L7.60664 1.52016C7.77997 1.30682 8.0933 1.27345 8.30663 1.44012C8.51996 1.60679 8.55329 1.92682 8.38663 2.14015L7.06664 3.7868C6.97331 3.91347 6.82663 3.98012 6.67996 3.98012Z"
            fill="white" />
          <path
            d="M7.99992 15.6668C4.45992 15.6668 1.57324 12.7868 1.57324 9.24015C1.57324 7.86015 2.01992 6.53348 2.87325 5.40015C3.03992 5.18015 3.35324 5.1335 3.57324 5.30017C3.79324 5.46684 3.83993 5.78016 3.67326 6.00016C2.95326 6.96016 2.57324 8.08015 2.57324 9.24015C2.57324 12.2335 5.00659 14.6668 7.99992 14.6668C10.9933 14.6668 13.4266 12.2335 13.4266 9.24015C13.4266 6.24682 10.9933 3.81348 7.99992 3.81348C7.61325 3.81348 7.21992 3.86016 6.79325 3.96016C6.52659 4.02016 6.25326 3.8535 6.19326 3.58683C6.13326 3.32017 6.29992 3.04682 6.56659 2.98682C7.06659 2.87348 7.53992 2.81348 7.99992 2.81348C11.5399 2.81348 14.4266 5.69349 14.4266 9.24015C14.4266 12.7868 11.5399 15.6668 7.99992 15.6668Z"
            fill="white" />
          <path
            d="M9.33333 11.6135C8.32 11.6135 7.5 10.7935 7.5 9.78019V8.88021C7.5 7.86687 8.32 7.04688 9.33333 7.04688C10.3467 7.04688 11.1667 7.86687 11.1667 8.88021V9.78019C11.1667 10.7935 10.3467 11.6135 9.33333 11.6135ZM9.33333 8.05355C8.87333 8.05355 8.5 8.42688 8.5 8.88688V9.78686C8.5 10.2469 8.87333 10.6202 9.33333 10.6202C9.79333 10.6202 10.1667 10.2469 10.1667 9.78686V8.88688C10.1667 8.42688 9.79333 8.05355 9.33333 8.05355Z"
            fill="white" />
        </svg>
      </button>

      <button class="podcast-media-player__controls__play-btn" aria-label="Play/Pause" (click)="togglePlay()">
        @if (this.isLoading()) {
        <svg width="16" height="16" viewBox="0 0 50 50" aria-hidden="true">
          <circle cx="25" cy="25" r="20" fill="none" stroke="white" stroke-width="5" stroke-linecap="round"
            stroke-dasharray="31.4 31.4" stroke-dashoffset="0">
            <animateTransform attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="1s"
              repeatCount="indefinite" />
          </circle>
        </svg>
        } @else if (!this.isPlaying()) {
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M5.48102 14C4.99977 14 4.54289 13.8771 4.14083 13.6313C3.19052 13.0491 2.66663 11.8652 2.66663 10.3062V5.6938C2.66663 4.12831 3.19052 2.95095 4.14083 2.36874C5.09115 1.78653 6.31559 1.8965 7.59486 2.67925L11.3535 4.98221C12.6266 5.76496 13.3333 6.83882 13.3333 8.00324C13.3333 9.16766 12.6327 10.2415 11.3535 11.0243L7.59486 13.3272C6.85775 13.7736 6.13893 14 5.48102 14Z"
            fill="white" />
        </svg>
        }
        @else {
        <svg width="16" height="16" fill="white" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
          <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
          <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
          <g id="SVGRepo_iconCarrier">
            <title>pause</title>
            <path
              d="M5.92 24.096q0 0.832 0.576 1.408t1.44 0.608h4.032q0.832 0 1.44-0.608t0.576-1.408v-16.16q0-0.832-0.576-1.44t-1.44-0.576h-4.032q-0.832 0-1.44 0.576t-0.576 1.44v16.16zM18.016 24.096q0 0.832 0.608 1.408t1.408 0.608h4.032q0.832 0 1.44-0.608t0.576-1.408v-16.16q0-0.832-0.576-1.44t-1.44-0.576h-4.032q-0.832 0-1.408 0.576t-0.608 1.44v16.16z">
            </path>
          </g>
        </svg>
        }
      </button>

      <button class="podcast-media-player__controls-btn" aria-label="Skip backward 10 seconds" (click)="skipBackward()">
        <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M9.31984 3.97982C9.17318 3.97982 9.0265 3.91317 8.93317 3.79317L7.61318 2.14648C7.43985 1.93315 7.47318 1.61316 7.69318 1.44649C7.90651 1.27316 8.21984 1.30649 8.39317 1.52649L9.71318 3.17318C9.88651 3.38651 9.85318 3.7065 9.63318 3.87317C9.53985 3.93984 9.42651 3.97982 9.31984 3.97982Z"
            fill="white" />
          <path
            d="M7.99992 15.6668C4.45992 15.6668 1.57324 12.7868 1.57324 9.24015C1.57324 5.69349 4.45325 2.81348 7.99992 2.81348C8.45992 2.81348 8.92658 2.86682 9.43325 2.98682C9.69991 3.04682 9.87325 3.32017 9.80658 3.58683C9.74658 3.8535 9.47992 4.02683 9.20658 3.96016C8.77992 3.86016 8.37992 3.81348 7.99992 3.81348C5.00659 3.81348 2.57324 6.24682 2.57324 9.24015C2.57324 12.2335 5.00659 14.6668 7.99992 14.6668C10.9933 14.6668 13.4266 12.2335 13.4266 9.24015C13.4266 8.08015 13.0466 6.96016 12.3266 6.00016C12.1599 5.78016 12.2066 5.46684 12.4266 5.30017C12.6466 5.1335 12.9599 5.18015 13.1266 5.40015C13.9799 6.53348 14.4266 7.86015 14.4266 9.24015C14.4266 12.7868 11.5399 15.6668 7.99992 15.6668Z"
            fill="white" />
          <path
            d="M6.36005 11.6132C6.08671 11.6132 5.86005 11.3865 5.86005 11.1132V8.85324L5.73338 8.99321C5.54671 9.19988 5.23338 9.21321 5.02671 9.03321C4.82005 8.84654 4.80671 8.53321 4.98671 8.32655L5.98671 7.21322C6.12671 7.05989 6.3467 7.00655 6.54004 7.07988C6.73337 7.15322 6.86005 7.33989 6.86005 7.54656V11.1132C6.86005 11.3932 6.64005 11.6132 6.36005 11.6132Z"
            fill="white" />
          <path
            d="M9.33333 11.6135C8.32 11.6135 7.5 10.7935 7.5 9.78019V8.88021C7.5 7.86687 8.32 7.04688 9.33333 7.04688C10.3467 7.04688 11.1667 7.86687 11.1667 8.88021V9.78019C11.1667 10.7935 10.3467 11.6135 9.33333 11.6135ZM9.33333 8.05355C8.87333 8.05355 8.5 8.42688 8.5 8.88688V9.78686C8.5 10.2469 8.87333 10.6202 9.33333 10.6202C9.79333 10.6202 10.1667 10.2469 10.1667 9.78686V8.88688C10.1667 8.42688 9.79333 8.05355 9.33333 8.05355Z"
            fill="white" />
        </svg>
      </button>
    </div>

    <div class="podcast-media-player__volume">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"
        aria-label="Volume icon">
        <path
          d="M1.33337 6.66685V9.33352C1.33337 10.6669 2.00004 11.3335 3.33337 11.3335H4.28671C4.53337 11.3335 4.78004 11.4069 4.99337 11.5335L6.94004 12.7535C8.62004 13.8069 10 13.0402 10 11.0602V4.94018C10 2.95352 8.62004 2.19352 6.94004 3.24685L4.99337 4.46685C4.78004 4.59352 4.53337 4.66685 4.28671 4.66685H3.33337C2.00004 4.66685 1.33337 5.33352 1.33337 6.66685Z"
          stroke="white" />
        <path d="M12 5.3335C13.1867 6.9135 13.1867 9.08683 12 10.6668" stroke="white" stroke-linecap="round"
          stroke-linejoin="round" />
        <path d="M13.22 3.6665C15.1466 6.23317 15.1466 9.7665 13.22 12.3332" stroke="white" stroke-linecap="round"
          stroke-linejoin="round" />
      </svg>

      <div class="podcast-media-player__progress">
        <div #volumeBar class="podcast-media-player__progress-bar" (click)="onVolumeChange($event)"
          style="cursor: pointer;" role="slider" [attr.aria-valuenow]="volume() * 100" aria-valuemin="0"
          aria-valuemax="100" aria-label="Volume control">
          <div class="podcast-media-player__progress-fill" [style.width.%]="volume() * 100"></div>
        </div>
      </div>

      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"
        (click)="toggleMute()" style="cursor: pointer;">
        <path
          d="M3.66663 6.66685V9.33352C3.66663 10.6669 4.33329 11.3335 5.66663 11.3335H6.61996C6.86663 11.3335 7.11329 11.4069 7.32663 11.5335L9.27329 12.7535C10.9533 13.8069 12.3333 13.0402 12.3333 11.0602V4.94018C12.3333 2.95352 10.9533 2.19352 9.27329 3.24685L7.32663 4.46685C7.11329 4.59352 6.86663 4.66685 6.61996 4.66685H5.66663C4.33329 4.66685 3.66663 5.33352 3.66663 6.66685Z"
          stroke="white" />
      </svg>
    </div>
  </div>
  }
</div>
<audio #audioRef hidden (timeupdate)="onTimeUpdate()" (loadedmetadata)="onMetadataLoaded()">
  <source [src]="item?.file" type="audio/mpeg" />
  Your browser does not support the audio element.
</audio>