@if (item) {
<section class="podcast-details-box-card">
  <div class="podcast-details-box-card__container"
    [ngClass]="{'podcast-details-box-card__container--mobile': isMobile}">
    <div class="podcast-details-box-card__header">
      <h2 class="podcast-details-box-card__title">
        {{ 'podcast_details'  }}
      </h2>

      <button type="button" class="podcast-details-box-card__favorite-button" (click)="handleFavouriteToggle($event)"
        [attr.aria-label]="item.is_bookmarked ? 'Remove from favourites' : 'Add to favourites'">
        @if(isToggleLoading()){
        <div class="shimmer-circle"></div>
        }
        @else if (item.is_bookmarked) {
        <!-- Red Heart SVG -->
        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
          <path
            d="M9.59 1.80811C8.53417 1.80811 7.58917 2.32144 7 3.10894C6.41084 2.32144 5.46584 1.80811 4.41 1.80811C2.61917 1.80811 1.16667 3.26644 1.16667 5.06894C1.16667 5.76311 1.27751 6.40477 1.47001 6.99977C2.39167 9.91644 5.2325 11.6606 6.63834 12.1389C6.83667 12.2089 7.16334 12.2089 7.36167 12.1389C8.7675 11.6606 11.6083 9.91644 12.53 6.99977C12.7225 6.40477 12.8333 5.76311 12.8333 5.06894C12.8333 3.26644 11.3808 1.80811 9.59 1.80811Z"
            fill="#FF0027" aria-hidden="true" focusable="false" />
        </svg>
        } @else {
        <!-- Gray Heart SVG -->
        <svg width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M7.50002 12.6292C7.31919 12.6292 7.14419 12.6059 6.99835 12.5534C4.77002 11.7892 1.22919 9.07668 1.22919 5.06918C1.22919 3.02752 2.88002 1.37085 4.91002 1.37085C5.89585 1.37085 6.81752 1.75585 7.50002 2.44418C8.18252 1.75585 9.10419 1.37085 10.09 1.37085C12.12 1.37085 13.7709 3.03335 13.7709 5.06918C13.7709 9.08252 10.23 11.7892 8.00169 12.5534C7.85585 12.6059 7.68085 12.6292 7.50002 12.6292ZM4.91002 2.24585C3.36419 2.24585 2.10419 3.51168 2.10419 5.06918C2.10419 9.05335 5.93669 11.27 7.28419 11.7309C7.38919 11.7659 7.61669 11.7659 7.72169 11.7309C9.06335 11.27 12.9017 9.05918 12.9017 5.06918C12.9017 3.51168 11.6417 2.24585 10.0959 2.24585C9.20919 2.24585 8.38669 2.66002 7.85585 3.37752C7.69252 3.59918 7.31919 3.59918 7.15585 3.37752C6.61335 2.65418 5.79669 2.24585 4.91002 2.24585Z"
            fill="#666666" aria-hidden="true" focusable="false" />
        </svg>
        }
      </button>
    </div>

    <div class="podcast-details-box-card__content-body">
      @if(!isMobile){
      <div class="podcast-details-box-card__image-wrapper">
        <img [appLazyLoadImage]="item.thumbnail_image || ''" [alt]="item.title || 'Podcast thumbnail'"
          class="podcast-details-box-card__image" ngOptimizedImage width="200" height="200" priority
          onerror="this.src='images/emptyStates/podcast.svg'" />
      </div>
      }
      <div class="podcast-details-box-card__info">
        <h3 class="podcast-details-box-card__main-title">
          {{ item.title }}
        </h3>
        <div>
          @if (item.doctor_name) {
          <p class="podcast-details-box-card__guest">
            {{ item.doctor_name | translate }}
          </p>
          }
          <div class="podcast-details-box-card__metadata">
            <time class="podcast-details-box-card__date" [attr.datetime]="item.created_at">
              {{ item.created_at | date : 'EEEE - d MMMM' : undefined : currentLanguage }}
            </time>
            <span class="podcast-details-box-card__duration">
              {{ item.duration }}
              {{ 'minute'  }}
            </span>
          </div>
        </div>
        @if (item.description) {
        <div class="podcast-details-box-card__about">
          <h4 class="podcast-details-box-card__about-title">
            {{ 'about_podcast'  }}
          </h4>
          <p class="podcast-details-box-card__description">
            {{ item.description }}
          </p>
        </div>
        }
      </div>
    </div>
  </div>
  <button class="podcast-details-box-card__play-button" (click)="onPlayPodcast()">
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
      <mask id="path-1-inside-1_2247_99694" fill="white">
        <path
          d="M6.55898 17.7337C5.90065 17.7337 5.27565 17.5754 4.72565 17.2587C3.42565 16.5087 2.70898 14.9837 2.70898 12.9754V7.03373C2.70898 5.01706 3.42565 3.5004 4.72565 2.7504C6.02565 2.0004 7.70065 2.14206 9.45065 3.1504L14.5923 6.11706C16.334 7.1254 17.3007 8.50873 17.3007 10.0087C17.3007 11.5087 16.3423 12.8921 14.5923 13.9004L9.45065 16.8671C8.44232 17.4421 7.45898 17.7337 6.55898 17.7337ZM6.55898 3.51706C6.10898 3.51706 5.70898 3.61706 5.35065 3.8254C4.45065 4.34206 3.95898 5.48373 3.95898 7.03373V12.9671C3.95898 14.5171 4.45065 15.6504 5.35065 16.1754C6.25065 16.7004 7.48398 16.5504 8.82565 15.7754L13.9673 12.8087C15.309 12.0337 16.0507 11.0421 16.0507 10.0004C16.0507 8.95873 15.309 7.96706 13.9673 7.19206L8.82565 4.2254C8.00898 3.75873 7.24232 3.51706 6.55898 3.51706Z" />
      </mask>
      <path
        d="M6.55898 17.7337C5.90065 17.7337 5.27565 17.5754 4.72565 17.2587C3.42565 16.5087 2.70898 14.9837 2.70898 12.9754V7.03373C2.70898 5.01706 3.42565 3.5004 4.72565 2.7504C6.02565 2.0004 7.70065 2.14206 9.45065 3.1504L14.5923 6.11706C16.334 7.1254 17.3007 8.50873 17.3007 10.0087C17.3007 11.5087 16.3423 12.8921 14.5923 13.9004L9.45065 16.8671C8.44232 17.4421 7.45898 17.7337 6.55898 17.7337ZM6.55898 3.51706C6.10898 3.51706 5.70898 3.61706 5.35065 3.8254C4.45065 4.34206 3.95898 5.48373 3.95898 7.03373V12.9671C3.95898 14.5171 4.45065 15.6504 5.35065 16.1754C6.25065 16.7004 7.48398 16.5504 8.82565 15.7754L13.9673 12.8087C15.309 12.0337 16.0507 11.0421 16.0507 10.0004C16.0507 8.95873 15.309 7.96706 13.9673 7.19206L8.82565 4.2254C8.00898 3.75873 7.24232 3.51706 6.55898 3.51706Z"
        fill="white" />
      <path
        d="M4.72565 17.2587L3.97607 18.558L3.9772 18.5587L4.72565 17.2587ZM9.45065 3.1504L10.2003 1.85115L10.1995 1.85071L9.45065 3.1504ZM14.5923 6.11706L15.3439 4.81892L15.342 4.81782L14.5923 6.11706ZM14.5923 13.9004L13.8434 12.6007L13.8427 12.6012L14.5923 13.9004ZM9.45065 16.8671L10.1937 18.1701L10.2003 18.1663L9.45065 16.8671ZM5.35065 3.8254L6.09746 5.1263L6.10458 5.12216L5.35065 3.8254ZM8.82565 15.7754L8.07601 14.4762L8.07537 14.4765L8.82565 15.7754ZM13.9673 12.8087L14.717 14.108L14.7176 14.1076L13.9673 12.8087ZM13.9673 7.19206L14.7176 5.89319L14.717 5.89282L13.9673 7.19206ZM8.82565 4.2254L9.5753 2.92614L9.56986 2.92303L8.82565 4.2254ZM6.55898 17.7337V16.2337C6.14428 16.2337 5.78047 16.1352 5.4741 15.9588L4.72565 17.2587L3.9772 18.5587C4.77084 19.0156 5.65702 19.2337 6.55898 19.2337V17.7337ZM4.72565 17.2587L5.47523 15.9595C4.79506 15.567 4.20898 14.6553 4.20898 12.9754H2.70898H1.20898C1.20898 15.3121 2.05624 17.4504 3.97607 18.558L4.72565 17.2587ZM2.70898 12.9754H4.20898V7.03373H2.70898H1.20898V12.9754H2.70898ZM2.70898 7.03373H4.20898C4.20898 5.34693 4.79412 4.44263 5.47523 4.04968L4.72565 2.7504L3.97607 1.45112C2.05718 2.55817 1.20898 4.68719 1.20898 7.03373H2.70898ZM4.72565 2.7504L5.47523 4.04968C6.15485 3.65759 7.23388 3.6043 8.70178 4.45009L9.45065 3.1504L10.1995 1.85071C8.16742 0.679831 5.89645 0.343204 3.97607 1.45112L4.72565 2.7504ZM9.45065 3.1504L8.70101 4.44964L13.8427 7.41631L14.5923 6.11706L15.342 4.81782L10.2003 1.85115L9.45065 3.1504ZM14.5923 6.11706L13.8408 7.4152C15.3025 8.26145 15.8007 9.2265 15.8007 10.0087H17.3007H18.8007C18.8007 7.79096 17.3655 5.98934 15.3439 4.81893L14.5923 6.11706ZM17.3007 10.0087H15.8007C15.8007 10.7938 15.3075 11.7572 13.8434 12.6007L14.5923 13.9004L15.3412 15.2001C17.3772 14.027 18.8007 12.2236 18.8007 10.0087H17.3007ZM14.5923 13.9004L13.8427 12.6012L8.70101 15.5678L9.45065 16.8671L10.2003 18.1663L15.342 15.1996L14.5923 13.9004ZM9.45065 16.8671L8.7076 15.564C7.86598 16.044 7.13739 16.2337 6.55898 16.2337V17.7337V19.2337C7.78058 19.2337 9.01865 18.8402 10.1937 18.1701L9.45065 16.8671ZM6.55898 3.51706V2.01706C5.87537 2.01706 5.20959 2.17232 4.59672 2.52864L5.35065 3.8254L6.10458 5.12216C6.20838 5.06181 6.34259 5.01706 6.55898 5.01706V3.51706ZM5.35065 3.8254L4.60385 2.52452C3.02885 3.42868 2.45898 5.24149 2.45898 7.03373H3.95898H5.45898C5.45898 5.72597 5.87245 5.25544 6.09745 5.12628L5.35065 3.8254ZM3.95898 7.03373H2.45898V12.9671H3.95898H5.45898V7.03373H3.95898ZM3.95898 12.9671H2.45898C2.45898 14.7674 3.03296 16.56 4.59484 17.4711L5.35065 16.1754L6.10646 14.8797C5.86834 14.7408 5.45898 14.2667 5.45898 12.9671H3.95898ZM5.35065 16.1754L4.59484 17.4711C6.1718 18.391 8.02877 17.968 9.57593 17.0743L8.82565 15.7754L8.07537 14.4765C6.9392 15.1328 6.3295 15.0098 6.10646 14.8797L5.35065 16.1754ZM8.82565 15.7754L9.5753 17.0746L14.717 14.108L13.9673 12.8087L13.2177 11.5095L8.07601 14.4762L8.82565 15.7754ZM13.9673 12.8087L14.7176 14.1076C16.269 13.2115 17.5507 11.8178 17.5507 10.0004H16.0507H14.5507C14.5507 10.2663 14.349 10.856 13.217 11.5099L13.9673 12.8087ZM16.0507 10.0004H17.5507C17.5507 8.18295 16.269 6.78934 14.7176 5.89319L13.9673 7.19206L13.217 8.49094C14.349 9.14479 14.5507 9.73451 14.5507 10.0004H16.0507ZM13.9673 7.19206L14.717 5.89282L9.5753 2.92615L8.82565 4.2254L8.07601 5.52464L13.2177 8.49131L13.9673 7.19206ZM8.82565 4.2254L9.56986 2.92303C8.61199 2.37568 7.58673 2.01706 6.55898 2.01706V3.51706V5.01706C6.89791 5.01706 7.40598 5.14178 8.08144 5.52776L8.82565 4.2254Z"
        fill="white" mask="url(#path-1-inside-1_2247_99694)" />
    </svg>
    <p>
      {{ 'play'  }}
    </p>
  </button>
</section>
}
