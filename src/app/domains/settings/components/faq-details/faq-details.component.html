<div class="faq-details">
    <!-- Loading State -->
    @if (isLoading()) {
    <app-faq-details-loading style="width: 100%"></app-faq-details-loading>
    }

    <!-- Error State -->
    @if (errorMessage()) {
    <div class="faq-details__error">
        <app-error-state-card [config]="errorStateConfig"></app-error-state-card>
    </div>
    }

    <!-- FAQ Content -->
    @if (!isLoading() && !errorMessage() && faqs().length > 0) {
    <div class="faq-details__content" appAutoExactHeight heightMode="max-height">
        <!-- Questions Section -->
        <div class="faq-details__questions">
            @for (faq of faqs(); track faq.id) {
            <div class="faq-question-card" (click)="onFaqClick(faq)"
                [class.faq-question-card--active]="isFaqActive(faq.id)">
                <div class="faq-question-card__title">
                    {{ faq.question }}
                </div>
                <div class="faq-question-card__icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19" fill="none">
                        <path
                            d="M9.00002 13.1005C8.47502 13.1005 7.95001 12.898 7.55251 12.5005L2.66251 7.61047C2.44501 7.39297 2.44501 7.03297 2.66251 6.81547C2.88001 6.59797 3.24001 6.59797 3.45751 6.81547L8.34751 11.7055C8.70751 12.0655 9.29251 12.0655 9.65251 11.7055L14.5425 6.81547C14.76 6.59797 15.12 6.59797 15.3375 6.81547C15.555 7.03297 15.555 7.39297 15.3375 7.61047L10.4475 12.5005C10.05 12.898 9.52501 13.1005 9.00002 13.1005Z"
                            fill="#47586E" />
                    </svg>
                </div>
            </div>
            }
        </div>

        <!-- Answer Section -->
        <div class="faq-details__answer">
            @if (selectedFaq()) {
            <div class="faq-answer-card">
                <h3 class="faq-answer-card__title">
                    {{ selectedFaq()?.question }}
                </h3>
                <div class="faq-answer-card__description" [innerHTML]="selectedFaq()?.answer">
                </div>
            </div>
            } @else {
            <div class="faq-details__placeholder">
                <p>{{ 'settings.settingFaqs.selectQuestion' | translate }}</p>
            </div>
            }
        </div>
    </div>
    }

    <!-- Empty State -->
    @if (!isLoading() && !errorMessage() && faqs().length === 0) {
    <app-empty-state-card [config]="emptyStateConfig" style="margin:auto;"></app-empty-state-card>
    }
</div>