<section class="settings-reward-details" role="dialog" aria-modal="true"
  aria-labelledby="settings-reward-details__title" aria-describedby="settings-reward-details__subtitle">

  <div class="settings-reward-details__container">
    <!-- Header -->
    <header class="settings-reward-details__header">
      <h3 id="settings-reward-details__title" class="settings-reward-details__title">
        {{ rewardItem.name || '' }}
      </h3>
      <p id="settings-reward-details__subtitle" class="settings-reward-details__subtitle">
        {{ 'settings.rewards.detailsModalSubtitle' | translate }}
      </p>
    </header>

    <main class="settings-reward-details__content">
      <!-- Code label -->
      <p class="settings-reward-details__code-label">
        {{ 'general.code' | translate }}
      </p>

      <!-- Copy button + tooltip -->
      <div class="settings-reward-details__tooltip-wrapper">
        <button class="btn btn--outline settings-reward-details__copy-btn" type="button"
          (click)="showTooltipFor('copy')" [attr.aria-describedby]="activeTooltip === 'copy' ? tooltipId : null">
          <span class="settings-reward-details__copy-icon">
            <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
              <mask id="path-1-inside-1_2372_58459" fill="white">
                <path
                  d="M9.25002 19.4577H5.75002C2.49169 19.4577 1.04169 18.0077 1.04169 14.7494V11.2493C1.04169 7.99102 2.49169 6.54102 5.75002 6.54102H9.25002C12.5084 6.54102 13.9584 7.99102 13.9584 11.2493V14.7494C13.9584 18.0077 12.5084 19.4577 9.25002 19.4577ZM5.75002 7.79102C3.16669 7.79102 2.29169 8.66602 2.29169 11.2493V14.7494C2.29169 17.3327 3.16669 18.2077 5.75002 18.2077H9.25002C11.8334 18.2077 12.7084 17.3327 12.7084 14.7494V11.2493C12.7084 8.66602 11.8334 7.79102 9.25002 7.79102H5.75002Z" />
              </mask>
              <path
                d="M9.25002 19.4577H5.75002C2.49169 19.4577 1.04169 18.0077 1.04169 14.7494V11.2493C1.04169 7.99102 2.49169 6.54102 5.75002 6.54102H9.25002C12.5084 6.54102 13.9584 7.99102 13.9584 11.2493V14.7494C13.9584 18.0077 12.5084 19.4577 9.25002 19.4577ZM5.75002 7.79102C3.16669 7.79102 2.29169 8.66602 2.29169 11.2493V14.7494C2.29169 17.3327 3.16669 18.2077 5.75002 18.2077H9.25002C11.8334 18.2077 12.7084 17.3327 12.7084 14.7494V11.2493C12.7084 8.66602 11.8334 7.79102 9.25002 7.79102H5.75002Z"
                fill="#0E39B6" />
              <path
                d="M9.25002 19.4577V17.9577H5.75002V19.4577V20.9577H9.25002V19.4577ZM5.75002 19.4577V17.9577C4.30818 17.9577 3.60289 17.633 3.23464 17.2647C2.86639 16.8965 2.54169 16.1912 2.54169 14.7494H1.04169H-0.458313C-0.458313 16.5658 -0.0580157 18.2147 1.11332 19.3861C2.28465 20.5574 3.93352 20.9577 5.75002 20.9577V19.4577ZM1.04169 14.7494H2.54169V11.2493H1.04169H-0.458313V14.7494H1.04169ZM1.04169 11.2493H2.54169C2.54169 9.80751 2.86639 9.10222 3.23464 8.73397C3.60289 8.36572 4.30818 8.04102 5.75002 8.04102V6.54102V5.04102C3.93352 5.04102 2.28465 5.44131 1.11332 6.61265C-0.0580157 7.78398 -0.458313 9.43285 -0.458313 11.2493H1.04169ZM5.75002 6.54102V8.04102H9.25002V6.54102V5.04102H5.75002V6.54102ZM9.25002 6.54102V8.04102C10.6919 8.04102 11.3972 8.36572 11.7654 8.73397C12.1337 9.10222 12.4584 9.80751 12.4584 11.2493H13.9584H15.4584C15.4584 9.43285 15.0581 7.78398 13.8867 6.61265C12.7154 5.44131 11.0665 5.04102 9.25002 5.04102V6.54102ZM13.9584 11.2493H12.4584V14.7494H13.9584H15.4584V11.2493H13.9584ZM13.9584 14.7494H12.4584C12.4584 16.1912 12.1337 16.8965 11.7654 17.2647C11.3972 17.633 10.6919 17.9577 9.25002 17.9577V19.4577V20.9577C11.0665 20.9577 12.7154 20.5574 13.8867 19.3861C15.0581 18.2147 15.4584 16.5658 15.4584 14.7494H13.9584ZM5.75002 7.79102V6.29102C4.36971 6.29102 2.97586 6.50635 1.99144 7.49077C1.00702 8.47519 0.791687 9.86904 0.791687 11.2493H2.29169H3.79169C3.79169 10.0463 4.01385 9.71101 4.11276 9.61209C4.21168 9.51318 4.54699 9.29102 5.75002 9.29102V7.79102ZM2.29169 11.2493H0.791687V14.7494H2.29169H3.79169V11.2493H2.29169ZM2.29169 14.7494H0.791687C0.791687 16.1297 1.00702 17.5235 1.99144 18.5079C2.97586 19.4923 4.36971 19.7077 5.75002 19.7077V18.2077V16.7077C4.54699 16.7077 4.21168 16.4855 4.11276 16.3866C4.01385 16.2877 3.79169 15.9524 3.79169 14.7494H2.29169ZM5.75002 18.2077V19.7077H9.25002V18.2077V16.7077H5.75002V18.2077ZM9.25002 18.2077V19.7077C10.6303 19.7077 12.0242 19.4923 13.0086 18.5079C13.993 17.5235 14.2084 16.1297 14.2084 14.7494H12.7084H11.2084C11.2084 15.9524 10.9862 16.2877 10.8873 16.3866C10.7884 16.4855 10.453 16.7077 9.25002 16.7077V18.2077ZM12.7084 14.7494H14.2084V11.2493H12.7084H11.2084V14.7494H12.7084ZM12.7084 11.2493H14.2084C14.2084 9.86904 13.993 8.47519 13.0086 7.49077C12.0242 6.50635 10.6303 6.29102 9.25002 6.29102V7.79102V9.29102C10.453 9.29102 10.7884 9.51318 10.8873 9.61209C10.9862 9.71101 11.2084 10.0463 11.2084 11.2493H12.7084ZM9.25002 7.79102V6.29102H5.75002V7.79102V9.29102H9.25002V7.79102Z"
                fill="#0E39B6" mask="url(#path-1-inside-1_2372_58459)" />
              <mask id="path-3-inside-2_2372_58459" fill="white">
                <path
                  d="M14.25 14.4577H13.3334C12.9917 14.4577 12.7084 14.1743 12.7084 13.8327V11.2493C12.7084 8.66602 11.8334 7.79102 9.25002 7.79102H6.66669C6.32502 7.79102 6.04169 7.50768 6.04169 7.16602V6.24935C6.04169 2.99102 7.49169 1.54102 10.75 1.54102H14.25C17.5084 1.54102 18.9584 2.99102 18.9584 6.24935V9.74935C18.9584 13.0077 17.5084 14.4577 14.25 14.4577ZM13.9584 13.2077H14.25C16.8334 13.2077 17.7084 12.3327 17.7084 9.74935V6.24935C17.7084 3.66602 16.8334 2.79102 14.25 2.79102H10.75C8.16669 2.79102 7.29169 3.66602 7.29169 6.24935V6.54102H9.25002C12.5084 6.54102 13.9584 7.99101 13.9584 11.2493V13.2077Z" />
              </mask>
              <path
                d="M14.25 14.4577H13.3334C12.9917 14.4577 12.7084 14.1743 12.7084 13.8327V11.2493C12.7084 8.66602 11.8334 7.79102 9.25002 7.79102H6.66669C6.32502 7.79102 6.04169 7.50768 6.04169 7.16602V6.24935C6.04169 2.99102 7.49169 1.54102 10.75 1.54102H14.25C17.5084 1.54102 18.9584 2.99102 18.9584 6.24935V9.74935C18.9584 13.0077 17.5084 14.4577 14.25 14.4577ZM13.9584 13.2077H14.25C16.8334 13.2077 17.7084 12.3327 17.7084 9.74935V6.24935C17.7084 3.66602 16.8334 2.79102 14.25 2.79102H10.75C8.16669 2.79102 7.29169 3.66602 7.29169 6.24935V6.54102H9.25002C12.5084 6.54102 13.9584 7.99101 13.9584 11.2493V13.2077Z"
                fill="#0E39B6" />
              <path
                d="M13.9584 13.2077H12.4584V14.7077H13.9584V13.2077ZM7.29169 6.54102H5.79169V8.04102H7.29169V6.54102ZM14.25 14.4577V12.9577H13.3334V14.4577V15.9577H14.25V14.4577ZM13.3334 14.4577V12.9577C13.8201 12.9577 14.2084 13.3459 14.2084 13.8327H12.7084H11.2084C11.2084 15.0028 12.1633 15.9577 13.3334 15.9577V14.4577ZM12.7084 13.8327H14.2084V11.2493H12.7084H11.2084V13.8327H12.7084ZM12.7084 11.2493H14.2084C14.2084 9.86904 13.993 8.47519 13.0086 7.49077C12.0242 6.50635 10.6303 6.29102 9.25002 6.29102V7.79102V9.29102C10.453 9.29102 10.7884 9.51318 10.8873 9.61209C10.9862 9.71101 11.2084 10.0463 11.2084 11.2493H12.7084ZM9.25002 7.79102V6.29102H6.66669V7.79102V9.29102H9.25002V7.79102ZM6.66669 7.79102V6.29102C7.15345 6.29102 7.54169 6.67926 7.54169 7.16602H6.04169H4.54169C4.54169 8.33611 5.49659 9.29102 6.66669 9.29102V7.79102ZM6.04169 7.16602H7.54169V6.24935H6.04169H4.54169V7.16602H6.04169ZM6.04169 6.24935H7.54169C7.54169 4.80751 7.86639 4.10222 8.23464 3.73397C8.60289 3.36572 9.30818 3.04102 10.75 3.04102V1.54102V0.0410156C8.93352 0.0410156 7.28465 0.441313 6.11332 1.61265C4.94198 2.78398 4.54169 4.43285 4.54169 6.24935H6.04169ZM10.75 1.54102V3.04102H14.25V1.54102V0.0410156H10.75V1.54102ZM14.25 1.54102V3.04102C15.6919 3.04102 16.3972 3.36572 16.7654 3.73397C17.1337 4.10222 17.4584 4.80751 17.4584 6.24935H18.9584H20.4584C20.4584 4.43285 20.0581 2.78398 18.8867 1.61265C17.7154 0.441313 16.0665 0.0410156 14.25 0.0410156V1.54102ZM18.9584 6.24935H17.4584V9.74935H18.9584H20.4584V6.24935H18.9584ZM18.9584 9.74935H17.4584C17.4584 11.1912 17.1337 11.8965 16.7654 12.2647C16.3972 12.633 15.6919 12.9577 14.25 12.9577V14.4577V15.9577C16.0665 15.9577 17.7154 15.5574 18.8867 14.3861C20.0581 13.2147 20.4584 11.5658 20.4584 9.74935H18.9584ZM13.9584 13.2077V14.7077H14.25V13.2077V11.7077H13.9584V13.2077ZM14.25 13.2077V14.7077C15.6303 14.7077 17.0242 14.4923 18.0086 13.5079C18.993 12.5235 19.2084 11.1297 19.2084 9.74935H17.7084H16.2084C16.2084 10.9524 15.9862 11.2877 15.8873 11.3866C15.7884 11.4855 15.453 11.7077 14.25 11.7077V13.2077ZM17.7084 9.74935H19.2084V6.24935H17.7084H16.2084V9.74935H17.7084ZM17.7084 6.24935H19.2084C19.2084 4.86904 18.993 3.47519 18.0086 2.49077C17.0242 1.50635 15.6303 1.29102 14.25 1.29102V2.79102V4.29102C15.453 4.29102 15.7884 4.51318 15.8873 4.61209C15.9862 4.71101 16.2084 5.04632 16.2084 6.24935H17.7084ZM14.25 2.79102V1.29102H10.75V2.79102V4.29102H14.25V2.79102ZM10.75 2.79102V1.29102C9.36971 1.29102 7.97586 1.50635 6.99144 2.49077C6.00702 3.47519 5.79169 4.86904 5.79169 6.24935H7.29169H8.79169C8.79169 5.04632 9.01385 4.71101 9.11276 4.61209C9.21168 4.51318 9.54699 4.29102 10.75 4.29102V2.79102ZM7.29169 6.24935H5.79169V6.54102H7.29169H8.79169V6.24935H7.29169ZM7.29169 6.54102V8.04102H9.25002V6.54102V5.04102H7.29169V6.54102ZM9.25002 6.54102V8.04102C10.6919 8.04102 11.3972 8.36572 11.7654 8.73397C12.1337 9.10222 12.4584 9.80751 12.4584 11.2493H13.9584H15.4584C15.4584 9.43285 15.0581 7.78398 13.8867 6.61265C12.7154 5.44131 11.0665 5.04102 9.25002 5.04102V6.54102ZM13.9584 11.2493H12.4584V13.2077H13.9584H15.4584V11.2493H13.9584Z"
                fill="#0E39B6" mask="url(#path-3-inside-2_2372_58459)" />
            </svg>
          </span>
          <span class="settings-reward-details__copy-value">
            {{ rewardCouponCode || '' }}
          </span>
        </button>

        <div *ngIf="activeTooltip === 'copy'" [id]="tooltipId" class="settings-reward-details__tooltip" role="status"
          aria-live="polite">
          {{ 'general.copied' | translate }}
        </div>
      </div>

      <!-- Start date -->
      <p class="settings-reward-details__date">
        {{ isCoupon(rewardItem.gift) ? (rewardItem.gift.start_date | date:'dd MMMM yyyy') : '' }}
      </p>

      <!-- Action button + tooltip -->

    </main>

  </div>
  <div class="settings-reward-details__tooltip-wrapper">
    <button class="btn btn--solid settings-reward-details__action-btn" type="button" (click)="showTooltipFor('action')"
      [attr.aria-describedby]="activeTooltip === 'action' ? tooltipId : null">
      {{ 'general.copyCode' | translate }}
    </button>

    <div *ngIf="activeTooltip === 'action'" [id]="tooltipId" class="settings-reward-details__tooltip" role="status"
      aria-live="polite">
      {{ 'general.copied' | translate }}
    </div>
  </div>
  <!-- Screen-reader only -->
  <div class="sr-only" aria-live="polite">
    {{ srMessage() }}
  </div>
</section>