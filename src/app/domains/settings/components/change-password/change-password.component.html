<div class="change-password">

    <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()" class="change-password__form">
        <h2 class="change-password__title">{{ translate('change_password') }}</h2>

        <div class="change-password__form-group">
            <label for="oldPassword" class="change-password__label">{{ translate('old_password') }}</label>
            <div class="change-password__input-container" [class.error]="isFieldInvalid('oldPassword')">
                <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M16.4917 12.9416C14.775 14.6499 12.3167 15.1749 10.1584 14.4999L6.23337 18.4166C5.95004 18.7083 5.39171 18.8833 4.99171 18.8249L3.17504 18.5749C2.57504 18.4916 2.01671 17.9249 1.92504 17.3249L1.67504 15.5083C1.61671 15.1083 1.80837 14.5499 2.08337 14.2666L6.00004 10.3499C5.33337 8.18327 5.85004 5.72494 7.56671 4.0166C10.025 1.55827 14.0167 1.55827 16.4834 4.0166C18.95 6.47494 18.95 10.4833 16.4917 12.9416Z"
                        stroke="#A5A5A5" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"
                        stroke-linejoin="round" />
                    <path d="M5.7417 15.0752L7.65837 16.9919" stroke="#A5A5A5" stroke-width="1.5" stroke-miterlimit="10"
                        stroke-linecap="round" stroke-linejoin="round" />
                    <path
                        d="M12.0833 9.6665C12.7736 9.6665 13.3333 9.10686 13.3333 8.4165C13.3333 7.72615 12.7736 7.1665 12.0833 7.1665C11.3929 7.1665 10.8333 7.72615 10.8333 8.4165C10.8333 9.10686 11.3929 9.6665 12.0833 9.6665Z"
                        stroke="#A5A5A5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
                <input [type]="passwordVisibility.oldPassword ? 'text' : 'password'" id="oldPassword"
                    formControlName="oldPassword" [placeholder]=" translate('enter_old_password') "
                    class="change-password__input" />
                <button type="button" class="change-password__toggle-password"
                    (click)="togglePasswordVisibility('oldPassword')">
                    <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M12.9834 10.4999C12.9834 12.1499 11.6501 13.4833 10.0001 13.4833C8.35006 13.4833 7.01672 12.1499 7.01672 10.4999C7.01672 8.84993 8.35006 7.5166 10.0001 7.5166C11.6501 7.5166 12.9834 8.84993 12.9834 10.4999Z"
                            stroke="#1D1F1F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                        <path
                            d="M9.99999 17.3918C12.9417 17.3918 15.6833 15.6584 17.5917 12.6584C18.3417 11.4834 18.3417 9.50843 17.5917 8.33343C15.6833 5.33343 12.9417 3.6001 9.99999 3.6001C7.05833 3.6001 4.31666 5.33343 2.40833 8.33343C1.65833 9.50843 1.65833 11.4834 2.40833 12.6584C4.31666 15.6584 7.05833 17.3918 9.99999 17.3918Z"
                            stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </button>
            </div>
            @if(isFieldInvalid('oldPassword')){
            <div class="change-password__error">{{ translate(getFieldError('oldPassword')) }}</div>
            }
        </div>

        <div class="change-password__form-group">
            <label for="newPassword" class="change-password__label">{{ translate('new_password') }}</label>
            <div class="change-password__input-container" [class.error]="isFieldInvalid('newPassword')">
                <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M16.4917 12.9416C14.775 14.6499 12.3167 15.1749 10.1584 14.4999L6.23337 18.4166C5.95004 18.7083 5.39171 18.8833 4.99171 18.8249L3.17504 18.5749C2.57504 18.4916 2.01671 17.9249 1.92504 17.3249L1.67504 15.5083C1.61671 15.1083 1.80837 14.5499 2.08337 14.2666L6.00004 10.3499C5.33337 8.18327 5.85004 5.72494 7.56671 4.0166C10.025 1.55827 14.0167 1.55827 16.4834 4.0166C18.95 6.47494 18.95 10.4833 16.4917 12.9416Z"
                        stroke="#A5A5A5" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"
                        stroke-linejoin="round" />
                    <path d="M5.7417 15.0752L7.65837 16.9919" stroke="#A5A5A5" stroke-width="1.5" stroke-miterlimit="10"
                        stroke-linecap="round" stroke-linejoin="round" />
                    <path
                        d="M12.0833 9.6665C12.7736 9.6665 13.3333 9.10686 13.3333 8.4165C13.3333 7.72615 12.7736 7.1665 12.0833 7.1665C11.3929 7.1665 10.8333 7.72615 10.8333 8.4165C10.8333 9.10686 11.3929 9.6665 12.0833 9.6665Z"
                        stroke="#A5A5A5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
                <input [type]="passwordVisibility.newPassword ? 'text' : 'password'" id="newPassword"
                    formControlName="newPassword" [placeholder]=" translate('enter_password') "
                    class="change-password__input" />
                <button type="button" class="change-password__toggle-password"
                    (click)="togglePasswordVisibility('newPassword')">

                    <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M12.9834 10.4999C12.9834 12.1499 11.6501 13.4833 10.0001 13.4833C8.35006 13.4833 7.01672 12.1499 7.01672 10.4999C7.01672 8.84993 8.35006 7.5166 10.0001 7.5166C11.6501 7.5166 12.9834 8.84993 12.9834 10.4999Z"
                            stroke="#1D1F1F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                        <path
                            d="M9.99999 17.3918C12.9417 17.3918 15.6833 15.6584 17.5917 12.6584C18.3417 11.4834 18.3417 9.50843 17.5917 8.33343C15.6833 5.33343 12.9417 3.6001 9.99999 3.6001C7.05833 3.6001 4.31666 5.33343 2.40833 8.33343C1.65833 9.50843 1.65833 11.4834 2.40833 12.6584C4.31666 15.6584 7.05833 17.3918 9.99999 17.3918Z"
                            stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </button>
            </div>
            @if(isFieldInvalid('newPassword')){
            <div class="change-password__error">{{ translate(getFieldError('newPassword')) }}</div>
            }
        </div>

        <div class="change-password__form-group">
            <label for="confirmPassword" class="change-password__label">{{ translate('confirm_password') }}</label>
            <div class="change-password__input-container" [class.error]="isFieldInvalid('confirmPassword')">
                <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M16.4917 12.9416C14.775 14.6499 12.3167 15.1749 10.1584 14.4999L6.23337 18.4166C5.95004 18.7083 5.39171 18.8833 4.99171 18.8249L3.17504 18.5749C2.57504 18.4916 2.01671 17.9249 1.92504 17.3249L1.67504 15.5083C1.61671 15.1083 1.80837 14.5499 2.08337 14.2666L6.00004 10.3499C5.33337 8.18327 5.85004 5.72494 7.56671 4.0166C10.025 1.55827 14.0167 1.55827 16.4834 4.0166C18.95 6.47494 18.95 10.4833 16.4917 12.9416Z"
                        stroke="#A5A5A5" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"
                        stroke-linejoin="round" />
                    <path d="M5.7417 15.0752L7.65837 16.9919" stroke="#A5A5A5" stroke-width="1.5" stroke-miterlimit="10"
                        stroke-linecap="round" stroke-linejoin="round" />
                    <path
                        d="M12.0833 9.6665C12.7736 9.6665 13.3333 9.10686 13.3333 8.4165C13.3333 7.72615 12.7736 7.1665 12.0833 7.1665C11.3929 7.1665 10.8333 7.72615 10.8333 8.4165C10.8333 9.10686 11.3929 9.6665 12.0833 9.6665Z"
                        stroke="#A5A5A5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
                <input [type]="passwordVisibility.confirmPassword ? 'text' : 'password'" id="confirmPassword"
                    formControlName="confirmPassword" [placeholder]=" translate('enter_password') "
                    class="change-password__input" />
                <button type="button" class="change-password__toggle-password"
                    (click)="togglePasswordVisibility('confirmPassword')">

                    <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M12.9834 10.4999C12.9834 12.1499 11.6501 13.4833 10.0001 13.4833C8.35006 13.4833 7.01672 12.1499 7.01672 10.4999C7.01672 8.84993 8.35006 7.5166 10.0001 7.5166C11.6501 7.5166 12.9834 8.84993 12.9834 10.4999Z"
                            stroke="#1D1F1F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                        <path
                            d="M9.99999 17.3918C12.9417 17.3918 15.6833 15.6584 17.5917 12.6584C18.3417 11.4834 18.3417 9.50843 17.5917 8.33343C15.6833 5.33343 12.9417 3.6001 9.99999 3.6001C7.05833 3.6001 4.31666 5.33343 2.40833 8.33343C1.65833 9.50843 1.65833 11.4834 2.40833 12.6584C4.31666 15.6584 7.05833 17.3918 9.99999 17.3918Z"
                            stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </button>
            </div>
            @if(isFieldInvalid('confirmPassword')){
            <div class="change-password__error">{{ translate(getFieldError('confirmPassword')) }}</div>
            }
        </div>

    </form>

    <button type="submit" class="change-password__submit-btn" (click)="onSubmit()" [disabled]="isLoading()">
        @if(isLoading()){
        <div class="change-password__loading">
            {{ translate('in_progress') }}
            <span class="dot-loader"></span>
        </div>
        }
        @if(!isLoading()){
        {{ translate('change_password2') }}
        }
    </button>
</div>