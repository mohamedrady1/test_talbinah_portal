<div class="doctor-card">
  <div class="doctor-card__container">
    <figure class="doctor-card__image-container">
      <img class="appointment-card__thumbnail-image" [src]="item?.image" width="24" height="24" loading="lazy"
        [alt]="item?.full_name ? item?.full_name + ' profile picture' : 'Doctor profile picture'"
        (error)="onImageError($event, item?.gender ?? null)" />
    </figure>
    <div class="doctor-card__content">
      <div class="doctor-card__content--header">
        <div class="doctor-card__content--header--info">
          <p class="doctor-card__content--header--info--name">
            {{item?.full_name}}
          </p>
          <div class="doctor-card__content--header--info--actions">
            <div class="doctor-card__content--header--info--actions--share">
              <app-share-social [fullUrl]="shareableUrl()" [icon]="'images/icons/share.png'"
                [linkType]="'doctor'"></app-share-social>
            </div>
            <div class="doctor-card__content--header--info--actions">
              <button type="button" class="doctor-card__like-button" (click)="handleFavouriteToggle($event)"
                [attr.aria-label]="item?.is_fav ? ('general.RemoveFromFavorites' | translate) : ('general.AddToFavorites' | translate)"
                [disabled]="isToggleLoading()">
                @if(isToggleLoading()){
                <div class="shimmer-circle"></div>
                }
                @else if (item?.is_fav) {
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none"
                  role="img" aria-label="Favorite heart icon">
                  <title>Filled heart icon, indicates favorited</title>
                  <path
                    d="M9.59 1.80811C8.53417 1.80811 7.58917 2.32144 7 3.10894C6.41084 2.32144 5.46584 1.80811 4.41 1.80811C2.61917 1.80811 1.16667 3.26644 1.16667 5.06894C1.16667 5.76311 1.27751 6.40477 1.47001 6.99977C2.39167 9.91644 5.2325 11.6606 6.63834 12.1389C6.83667 12.2089 7.16334 12.2089 7.36167 12.1389C8.7675 11.6606 11.6083 9.91644 12.53 6.99977C12.7225 6.40477 12.8333 5.76311 12.8333 5.06894C12.8333 3.26644 11.3808 1.80811 9.59 1.80811Z"
                    fill="#FF0027" />
                </svg>
                } @else {
                <svg width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg"
                  role="img" aria-label="Not favorite heart icon">
                  <title>Outline heart icon, indicates not favorited</title>
                  <path
                    d="M7.50002 12.6292C7.31919 12.6292 7.14419 12.6059 6.99835 12.5534C4.77002 11.7892 1.22919 9.07668 1.22919 5.06918C1.22919 3.02752 2.88002 1.37085 4.91002 1.37085C5.89585 1.37085 6.81752 1.75585 7.50002 2.44418C8.18252 1.75585 9.10419 1.37085 10.09 1.37085C12.12 1.37085 13.7709 3.03335 13.7709 5.06918C13.7709 9.08252 10.23 11.7892 8.00169 12.5534C7.85585 12.6059 7.68085 12.6292 7.50002 12.6292ZM4.91002 2.24585C3.36419 2.24585 2.10419 3.51168 2.10419 5.06918C2.10419 9.05335 5.93669 11.27 7.28419 11.7309C7.38919 11.7659 7.61669 11.7659 7.72169 11.7309C9.06335 11.27 12.9017 9.05918 12.9017 5.06918C12.9017 3.51168 11.6417 2.24585 10.0959 2.24585C9.20919 2.24585 8.38669 2.66002 7.85585 3.37752C7.69252 3.59918 7.31919 3.59918 7.15585 3.37752C6.61335 2.65418 5.79669 2.24585 4.91002 2.24585Z"
                    fill="#666666" />
                </svg>
                }
              </button>
            </div>
          </div>
        </div>
        <div class="doctor-card__content--header--description">
          <svg width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M4.6665 13.52C4.50317 13.52 4.33399 13.4792 4.18233 13.3975C3.84983 13.2225 3.64567 12.8725 3.64567 12.4991V11.6709C1.884 11.49 0.729004 10.195 0.729004 8.33997V4.84001C0.729004 2.83334 2.0765 1.48584 4.08317 1.48584H9.9165C11.9232 1.48584 13.2707 2.83334 13.2707 4.84001V8.33997C13.2707 10.3466 11.9232 11.6941 9.9165 11.6941H7.71733L5.23232 13.3509C5.06315 13.4617 4.86484 13.52 4.6665 13.52ZM4.08317 2.355C2.57817 2.355 1.604 3.32917 1.604 4.83417V8.3342C1.604 9.8392 2.57817 10.8134 4.08317 10.8134C4.32234 10.8134 4.52067 11.0117 4.52067 11.2509V12.4934C4.52067 12.5692 4.56734 12.6042 4.59651 12.6217C4.62567 12.6392 4.68401 12.6567 4.74818 12.6158L7.34402 10.8892C7.41402 10.8425 7.50151 10.8134 7.58901 10.8134H9.92234C11.4273 10.8134 12.4015 9.8392 12.4015 8.3342V4.83417C12.4015 3.32917 11.4273 2.355 9.92234 2.355H4.08317Z"
              fill="#47586E" />
            <path
              d="M7.00006 7.56396C6.76089 7.56396 6.56256 7.36563 6.56256 7.12646V7.00399C6.56256 6.32732 7.05838 5.99481 7.24505 5.86648C7.46088 5.72065 7.53087 5.62148 7.53087 5.46982C7.53087 5.17815 7.29172 4.93896 7.00006 4.93896C6.70839 4.93896 6.46924 5.17815 6.46924 5.46982C6.46924 5.70898 6.27091 5.90732 6.03174 5.90732C5.79257 5.90732 5.59424 5.70898 5.59424 5.46982C5.59424 4.69398 6.22422 4.06396 7.00006 4.06396C7.77589 4.06396 8.40587 4.69398 8.40587 5.46982C8.40587 6.13482 7.9159 6.46731 7.73506 6.58981C7.50756 6.74147 7.43756 6.84065 7.43756 7.00399V7.12646C7.43756 7.37146 7.23922 7.56396 7.00006 7.56396Z"
              fill="#47586E" />
            <path
              d="M7 9.0166C6.755 9.0166 6.5625 8.81827 6.5625 8.5791C6.5625 8.33993 6.76083 8.1416 7 8.1416C7.23917 8.1416 7.4375 8.33993 7.4375 8.5791C7.4375 8.81827 7.245 9.0166 7 9.0166Z"
              fill="#47586E" />
          </svg>
          <p>
            {{ item?.bio }}
          </p>
        </div>
      </div>
      <div class="doctor-card__content--expertise">
        @for (specialty of item?.specialties; track $index) {
        <span>
          {{specialty.name}}
        </span>
        }
      </div>
      @if (item?.is_classified) {
      <div class="doctor-card__content--classification">
        <svg width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M12.396 11.2744L11.4335 11.5019C11.2176 11.5544 11.0485 11.7177 11.0018 11.9336L10.7976 12.7911C10.6868 13.2577 10.0918 13.4036 9.78264 13.0361L8.03847 11.0294C7.89847 10.8661 7.97431 10.6094 8.18431 10.5569C9.21681 10.3061 10.1443 9.72856 10.8268 8.90606C10.9376 8.77189 11.136 8.75439 11.2585 8.87689L12.5535 10.1719C12.9968 10.6152 12.8393 11.1694 12.396 11.2744Z"
            fill="#0E39B6" />
          <path
            d="M1.57485 11.2744L2.53735 11.5019C2.75318 11.5544 2.92235 11.7177 2.96902 11.9336L3.17318 12.7911C3.28402 13.2577 3.87902 13.4036 4.18818 13.0361L5.93235 11.0294C6.07235 10.8661 5.99652 10.6094 5.78652 10.5569C4.75402 10.3061 3.82652 9.72856 3.14402 8.90606C3.03318 8.77189 2.83485 8.75439 2.71235 8.87689L1.41735 10.1719C0.974018 10.6152 1.13152 11.1694 1.57485 11.2744Z"
            fill="#0E39B6" />
          <path
            d="M6.99984 1.6665C4.74234 1.6665 2.9165 3.49234 2.9165 5.74984C2.9165 6.59567 3.16734 7.3715 3.599 8.019C4.229 8.95234 5.2265 9.6115 6.38734 9.78067C6.58567 9.81567 6.78984 9.83317 6.99984 9.83317C7.20984 9.83317 7.414 9.81567 7.61234 9.78067C8.77317 9.6115 9.77067 8.95234 10.4007 8.019C10.8323 7.3715 11.0832 6.59567 11.0832 5.74984C11.0832 3.49234 9.25734 1.6665 6.99984 1.6665ZM8.78484 5.6215L8.30067 6.10567C8.219 6.18734 8.17234 6.34484 8.2015 6.4615L8.3415 7.06234C8.45234 7.53484 8.2015 7.7215 7.7815 7.47067L7.19817 7.1265C7.09317 7.06234 6.91817 7.06234 6.81317 7.1265L6.22984 7.47067C5.80984 7.71567 5.559 7.53484 5.66984 7.06234L5.80984 6.4615C5.83317 6.35067 5.79234 6.18734 5.71067 6.10567L5.21484 5.6215C4.929 5.33567 5.02234 5.04984 5.419 4.98567L6.04317 4.88067C6.14817 4.86317 6.27067 4.76984 6.31734 4.6765L6.6615 3.98817C6.84817 3.61484 7.1515 3.61484 7.33817 3.98817L7.68234 4.6765C7.729 4.76984 7.8515 4.86317 7.96234 4.88067L8.5865 4.98567C8.97734 5.04984 9.07067 5.33567 8.78484 5.6215Z"
            fill="#0E39B6" />
        </svg>
        <p>{{ translate('certified_by_saudi_commission') }}</p>
      </div>
      }
    </div>
  </div>
  @if(type === 'visit-report' && item?.report_file){
  <button type="button" class="doctor-card__button" (click)="openTherapeuticPrescription($event)">
    {{ translate('prescription') }}
  </button>
  }
</div>