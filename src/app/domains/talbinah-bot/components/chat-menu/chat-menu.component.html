<div class="chat-menu" (click)="toggleMenu();$event.preventDefault()">
  <button class="chat-menu__button" aria-label="More options for chat">
    @if (actionIconName) {
    <app-svg-icon name="arrow-down" />
    }@else {
    <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M8.3335 16.3333C8.3335 17.25 9.0835 18 10.0002 18C10.9168 18 11.6668 17.25 11.6668 16.3333C11.6668 15.4167 10.9168 14.6667 10.0002 14.6667C9.0835 14.6667 8.3335 15.4167 8.3335 16.3333Z"
        stroke="#47586E" stroke-width="1.5" />
      <path
        d="M8.3335 4.66634C8.3335 5.58301 9.0835 6.33301 10.0002 6.33301C10.9168 6.33301 11.6668 5.58301 11.6668 4.66634C11.6668 3.74967 10.9168 2.99967 10.0002 2.99967C9.0835 2.99967 8.3335 3.74967 8.3335 4.66634Z"
        stroke="#47586E" stroke-width="1.5" />
      <path
        d="M8.3335 10.5003C8.3335 11.417 9.0835 12.167 10.0002 12.167C10.9168 12.167 11.6668 11.417 11.6668 10.5003C11.6668 9.58366 10.9168 8.83366 10.0002 8.83366C9.0835 8.83366 8.3335 9.58366 8.3335 10.5003Z"
        stroke="#47586E" stroke-width="1.5" />
    </svg>
    }
  </button>

  @if (openMenu) {
  <div class="chat-menu__details" appClickOutside (clickOutside)="openMenu = false"
    [ngClass]="currentLanguage === 'ar' ? 'chat-menu__details--ar' : 'chat-menu__details--en'">
    <div class="chat-menu__list">
      <ul class="chat-menu__list-items">
        <li class="chat-menu__list-item edit" (click)="startEditingTitle(); $event.stopPropagation()" tabindex="0">
          <div class="chat-menu__list-item-image">
            <app-svg-icon name="khawiik-rename-icon" />
          </div>
          <p class="chat-menu__list-item-text">{{ 'rename' | translateApi }}</p>
        </li>
        <li class="chat-menu__list-item delete" (click)="deleteChat()" tabindex="0">
          <div class="chat-menu__list-item-image">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
              stroke="#dc3545" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
              class="feather feather-trash-2">
              <polyline points="3 6 5 6 21 6"></polyline>
              <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
              </path>
              <line x1="10" y1="11" x2="10" y2="17"></line>
              <line x1="14" y1="11" x2="14" y2="17"></line>
            </svg>
          </div>
          <p class="chat-menu__list-item-text">{{ 'delete' | translateApi }}</p>
        </li>
      </ul>
    </div>
  </div>
  }
</div>