<div class="calendar">
    <div class="header position-relative">
        <button (click)="prevMonth()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" class="scaleX-rtl"
                xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M14.9993 20.67C14.8093 20.67 14.6193 20.6 14.4693 20.45L7.9493 13.93C6.8893 12.87 6.8893 11.13 7.9493 10.07L14.4693 3.55002C14.7593 3.26002 15.2393 3.26002 15.5293 3.55002C15.8193 3.84002 15.8193 4.32002 15.5293 4.61002L9.0093 11.13C8.5293 11.61 8.5293 12.39 9.0093 12.87L15.5293 19.39C15.8193 19.68 15.8193 20.16 15.5293 20.45C15.3793 20.59 15.1893 20.67 14.9993 20.67Z"
                    fill="#292D32" />
            </svg>
        </button>
        <span class="date" (click)="openCalendar()">{{ currentMonthName |translate}} {{
            getFormattedNumber(currentYear) }}</span>
        <button (click)="nextMonth()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" class="scaleX-rtl"
                xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M8.90961 20.67C8.71961 20.67 8.52961 20.6 8.37961 20.45C8.08961 20.16 8.08961 19.68 8.37961 19.39L14.8996 12.87C15.3796 12.39 15.3796 11.61 14.8996 11.13L8.37961 4.61002C8.08961 4.32002 8.08961 3.84002 8.37961 3.55002C8.66961 3.26002 9.14961 3.26002 9.43961 3.55002L15.9596 10.07C16.4696 10.58 16.7596 11.27 16.7596 12C16.7596 12.73 16.4796 13.42 15.9596 13.93L9.43961 20.45C9.28961 20.59 9.09961 20.67 8.90961 20.67Z"
                    fill="#292D32" />
            </svg>
        </button>
        <p-datepicker [(ngModel)]="date" view="month" dateFormat="mm/yy" [readonlyInput]="true"
            (onSelect)="onDateSelect($event)" />
    </div>

    <hr>
    <div class="days-of-week">
        <span class="w-100 text-center">{{'dayNames.sunday'|translate}}</span>
        <span class="w-100 text-center">{{'dayNames.monday'|translate}}</span>
        <span class="w-100 text-center">{{'dayNames.tuesday'|translate}}</span>
        <span class="w-100 text-center">{{'dayNames.wednesday'|translate}}</span>
        <span class="w-100 text-center">{{'dayNames.thursday'|translate}}</span>
        <span class="w-100 text-center">{{'dayNames.friday'|translate}}</span>
        <span class="w-100 text-center">{{'dayNames.saturday'|translate}}</span>
    </div>
    <div class="days">
        <div class="day" *ngFor="let day of daysInMonth" (click)="selectDate(day)" [ngClass]="{
                'gray': !day.isCurrentMonth,
                'holiday': day.dayStatus === 'holiday',
                'weekend': day.dayStatus === 'weekend',
                'workday': day.dayStatus === 'workDay'
              }">
            <div class="d-flex align-items-center justify-between">
                <span>{{ getFormattedNumber(day.day) }}</span>
                <button (click)="editDayStatus(day)"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M7.33398 1.3335H6.00065C2.66732 1.3335 1.33398 2.66683 1.33398 6.00016V10.0002C1.33398 13.3335 2.66732 14.6668 6.00065 14.6668H10.0007C13.334 14.6668 14.6673 13.3335 14.6673 10.0002V8.66683"
                            stroke="#315DA8" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                        <path
                            d="M10.6933 2.0135L5.43992 7.26684C5.23992 7.46684 5.03992 7.86017 4.99992 8.14684L4.71325 10.1535C4.60659 10.8802 5.11992 11.3868 5.84659 11.2868L7.85325 11.0002C8.13325 10.9602 8.52659 10.7602 8.73325 10.5602L13.9866 5.30684C14.8933 4.40017 15.3199 3.34684 13.9866 2.0135C12.6533 0.680168 11.5999 1.10684 10.6933 2.0135Z"
                            stroke="#315DA8" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"
                            stroke-linejoin="round" />
                        <path d="M9.93945 2.7666C10.3861 4.35993 11.6328 5.6066 13.2328 6.05993" stroke="#315DA8"
                            stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </button>
            </div>
            @switch (day.dayStatus) {
            @case ('holiday') {
            <div class="status">
                <p>{{"dayStatus.publicHoliday"|translate}}</p>
            </div>
            }
            @case ('weekend') {
            <div class="status">
                <p>{{"dayStatus.weeklyHoliday"|translate}}</p>
            </div>
            }
            @case ('workDay') {
            <div class="status">
                <p>{{"dayStatus.workDay"|translate}}</p>
            </div>
            }
            }
        </div>
    </div>
</div>
<app-form-popup (submitEvent)="handleFormSubmit($event)"></app-form-popup>