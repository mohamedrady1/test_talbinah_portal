@if(isBrowser) {
<div class="notification__wrapper">
    <div class="notification__container">
        @for (notification of notifications$ | async; track notification.id) {
        <div class="notification__item" [ngClass]="'notification__item--' + (notification.type || 'general')"
            (click)="onNotificationClick(notification)">

            <!-- Logo/Icon -->
            <div class="notification__icon">
                <img [src]="notification.icon" [alt]="notification.title">
            </div>

            <!-- Content -->
            <div class="notification__content">
                <div class="notification__header">
                    <h4 class="notification__title">{{ notification.title }}</h4>
                    <span class="notification__time">{{ getTimeAgo(notification.timestamp!) }}</span>
                </div>
                <p class="notification__body">{{ notification.body }}</p>
            </div>

            <!-- Close Button -->
            <button class="notification__close" (click)="removeNotification(notification.id); $event.stopPropagation()"
                [attr.aria-label]="'Close notification'">
                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M11 1L1 11M1 1L11 11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
            </button>

            <!-- Type Indicator Dot -->
            @if (notification.type && notification.type !== 'general') {
            <div class="notification__indicator"></div>
            }
        </div>
        }
    </div>
</div>
}